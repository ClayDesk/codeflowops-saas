(()=>{var e={};e.id=657,e.ids=[657],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2517:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),t(4101),t(3676),t(5866);var a=t(3191),r=t(8716),l=t(7922),n=t.n(l),i=t(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["smart-deploy",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4101)),"C:\\ClayDesk.AI\\codeflowops-saas\\frontend\\app\\smart-deploy\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3676)),"C:\\ClayDesk.AI\\codeflowops-saas\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\ClayDesk.AI\\codeflowops-saas\\frontend\\app\\smart-deploy\\page.tsx"],m="/smart-deploy/page",p={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/smart-deploy/page",pathname:"/smart-deploy",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1958:(e,s,t)=>{Promise.resolve().then(t.bind(t,7842))},7842:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eO});var a=t(326),r=t(7577),l=t(2643),n=t(772),i=t(567),o=t(64),c=t(3427),d=t(6824),m=t(2561),p=t(8051),u=t(3095),x=t(8957),h=t(2067),j=t(825),g=t(441),f=t(3078),y=t(9815),v=t(5226),b=t(699),N=t(8260),w=t(5664),_=t(4214),D="Dialog",[k,C]=(0,u.b)(D),[S,P]=k(D),Z=e=>{let{__scopeDialog:s,children:t,open:l,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,c=r.useRef(null),d=r.useRef(null),[m,p]=(0,h.T)({prop:l,defaultProp:n??!1,onChange:i,caller:D});return(0,a.jsx)(S,{scope:s,triggerRef:c,contentRef:d,contentId:(0,x.M)(),titleId:(0,x.M)(),descriptionId:(0,x.M)(),open:m,onOpenChange:p,onOpenToggle:r.useCallback(()=>p(e=>!e),[p]),modal:o,children:t})};Z.displayName=D;var A="DialogTrigger";r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,l=P(A,t),n=(0,p.e)(s,l.triggerRef);return(0,a.jsx)(v.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":K(l.open),...r,ref:n,onClick:(0,m.M)(e.onClick,l.onOpenToggle)})}).displayName=A;var R="DialogPortal",[I,F]=k(R,{forceMount:void 0}),M=e=>{let{__scopeDialog:s,forceMount:t,children:l,container:n}=e,i=P(R,s);return(0,a.jsx)(I,{scope:s,forceMount:t,children:r.Children.map(l,e=>(0,a.jsx)(y.z,{present:t||i.open,children:(0,a.jsx)(f.h,{asChild:!0,container:n,children:e})}))})};M.displayName=R;var z="DialogOverlay",E=r.forwardRef((e,s)=>{let t=F(z,e.__scopeDialog),{forceMount:r=t.forceMount,...l}=e,n=P(z,e.__scopeDialog);return n.modal?(0,a.jsx)(y.z,{present:r||n.open,children:(0,a.jsx)(O,{...l,ref:s})}):null});E.displayName=z;var T=(0,_.Z8)("DialogOverlay.RemoveScroll"),O=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,l=P(z,t);return(0,a.jsx)(N.Z,{as:T,allowPinchZoom:!0,shards:[l.contentRef],children:(0,a.jsx)(v.WV.div,{"data-state":K(l.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),B="DialogContent",V=r.forwardRef((e,s)=>{let t=F(B,e.__scopeDialog),{forceMount:r=t.forceMount,...l}=e,n=P(B,e.__scopeDialog);return(0,a.jsx)(y.z,{present:r||n.open,children:n.modal?(0,a.jsx)($,{...l,ref:s}):(0,a.jsx)(U,{...l,ref:s})})});V.displayName=B;var $=r.forwardRef((e,s)=>{let t=P(B,e.__scopeDialog),l=r.useRef(null),n=(0,p.e)(s,t.contentRef,l);return r.useEffect(()=>{let e=l.current;if(e)return(0,w.Ry)(e)},[]),(0,a.jsx)(W,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,m.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:(0,m.M)(e.onPointerDownOutside,e=>{let s=e.detail.originalEvent,t=0===s.button&&!0===s.ctrlKey;(2===s.button||t)&&e.preventDefault()}),onFocusOutside:(0,m.M)(e.onFocusOutside,e=>e.preventDefault())})}),U=r.forwardRef((e,s)=>{let t=P(B,e.__scopeDialog),l=r.useRef(!1),n=r.useRef(!1);return(0,a.jsx)(W,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(l.current||t.triggerRef.current?.focus(),s.preventDefault()),l.current=!1,n.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(l.current=!0,"pointerdown"!==s.detail.originalEvent.type||(n.current=!0));let a=s.target;t.triggerRef.current?.contains(a)&&s.preventDefault(),"focusin"===s.detail.originalEvent.type&&n.current&&s.preventDefault()}})}),W=r.forwardRef((e,s)=>{let{__scopeDialog:t,trapFocus:l,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=e,c=P(B,t),d=r.useRef(null),m=(0,p.e)(s,d);return(0,b.EW)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.M,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:n,onUnmountAutoFocus:i,children:(0,a.jsx)(j.XB,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":K(c.open),...o,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(es,{titleId:c.titleId}),(0,a.jsx)(et,{contentRef:d,descriptionId:c.descriptionId})]})]})}),L="DialogTitle",Y=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,l=P(L,t);return(0,a.jsx)(v.WV.h2,{id:l.titleId,...r,ref:s})});Y.displayName=L;var G="DialogDescription",q=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,l=P(G,t);return(0,a.jsx)(v.WV.p,{id:l.descriptionId,...r,ref:s})});q.displayName=G;var H="DialogClose",Q=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,l=P(H,t);return(0,a.jsx)(v.WV.button,{type:"button",...r,ref:s,onClick:(0,m.M)(e.onClick,()=>l.onOpenChange(!1))})});function K(e){return e?"open":"closed"}Q.displayName=H;var J="DialogTitleWarning",[X,ee]=(0,u.k)(J,{contentName:B,titleName:L,docsSlug:"dialog"}),es=({titleId:e})=>{let s=ee(J),t=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return r.useEffect(()=>{e&&!document.getElementById(e)&&console.error(t)},[t,e]),null},et=({contentRef:e,descriptionId:s})=>{let t=ee("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return r.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");s&&t&&!document.getElementById(s)&&console.warn(a)},[a,e,s]),null},ea=t(4019),er=t(7863);let el=r.forwardRef(({className:e,...s},t)=>a.jsx(E,{ref:t,className:(0,er.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));el.displayName=E.displayName;let en=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(M,{children:[a.jsx(el,{}),(0,a.jsxs)(V,{ref:r,className:(0,er.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[s,(0,a.jsxs)(Q,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(ea.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));en.displayName=V.displayName;let ei=({className:e,...s})=>a.jsx("div",{className:(0,er.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});ei.displayName="DialogHeader";let eo=({className:e,...s})=>a.jsx("div",{className:(0,er.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});eo.displayName="DialogFooter";let ec=r.forwardRef(({className:e,...s},t)=>a.jsx(Y,{ref:t,className:(0,er.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));ec.displayName=Y.displayName;let ed=r.forwardRef(({className:e,...s},t)=>a.jsx(q,{ref:t,className:(0,er.cn)("text-sm text-muted-foreground",e),...s}));ed.displayName=q.displayName;var em=t(4432),ep=t(1048),eu=t(4474),ex=t(6655),eh=t(3634),ej=t(8378),eg=t(3892),ef=t(6557);let ey=(0,ef.Z)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);var ev=t(2893),eb=t(4014),eN=t(165),ew=t(8319),e_=t(5290);function eD({isOpen:e,onClose:s,onSubmit:t,analysisResult:o}){let[d,m]=(0,r.useState)("basic"),[p,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)([]),[j,g]=(0,r.useState)([]),[f,y]=(0,r.useState)({project_name:"",cloud_provider:"aws",environment:"production",domain_name:"",github_repo:"",auto_deploy:!1,framework_type:"auto-detect",enable_monitoring:!0,enable_cdn:!0,enable_ssl:!0,instance_type:"t3.micro",auto_scaling:!1,backup_enabled:!0,custom_vpc:!1}),[v,b]=(0,r.useState)({}),N=()=>{let e={};return f.project_name.trim()?f.project_name.length<3?e.project_name="Project name must be at least 3 characters":/^[a-zA-Z0-9-_]+$/.test(f.project_name)||(e.project_name="Project name can only contain letters, numbers, hyphens, and underscores"):e.project_name="Project name is required",f.github_repo&&!f.github_repo.includes("github.com")&&(e.github_repo="Please enter a valid GitHub repository URL"),f.domain_name&&!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(f.domain_name)&&(e.domain_name="Please enter a valid domain name"),b(e),0===Object.keys(e).length},w=async()=>{if(N()){u(!0);try{let e={...f,framework:o?.framework||o?.projectType||("auto-detect"!==f.framework_type?f.framework_type:null),framework_type:o?.framework?.type||f.framework_type,project_type:o?.projectType||o?.project_type||("auto-detect"!==f.framework_type?f.framework_type:null),analysis_result:o||null};await t(e),y({project_name:"",cloud_provider:"aws",environment:"production",domain_name:"",github_repo:"",auto_deploy:!1,framework_type:"auto-detect",enable_monitoring:!0,enable_cdn:!0,enable_ssl:!0,instance_type:"t3.micro",auto_scaling:!1,backup_enabled:!0,custom_vpc:!1}),b({})}catch(e){console.error("Failed to create deployment:",e)}finally{u(!1)}}},_=(e,s)=>{y(t=>({...t,[e]:s})),v[e]&&b(s=>({...s,[e]:""}))},D=e=>{switch(e){case"aws":return"\uD83C\uDF29️";case"gcp":default:return"☁️";case"azure":return"\uD83D\uDD37"}},k=e=>{switch(e){case"development":return"bg-yellow-100 text-yellow-800";case"staging":return"bg-orange-100 text-orange-800";case"production":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx(Z,{open:e,onOpenChange:s,children:(0,a.jsxs)(en,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(ei,{children:[(0,a.jsxs)(ec,{className:"flex items-center gap-2",children:[a.jsx(eh.Z,{className:"h-5 w-5 text-blue-500"}),"Create Smart Deployment"]}),a.jsx(ed,{children:"Configure your Terraform-based infrastructure deployment. Smart Deploy will analyze your project and select optimal cloud infrastructure templates."})]}),(0,a.jsxs)(c.mQ,{value:d,onValueChange:m,className:"w-full",children:[(0,a.jsxs)(c.dr,{className:"grid w-full grid-cols-3",children:[a.jsx(c.SP,{value:"basic",children:"Basic Configuration"}),a.jsx(c.SP,{value:"infrastructure",children:"Infrastructure"}),a.jsx(c.SP,{value:"advanced",children:"Advanced Options"})]}),a.jsx(c.nU,{value:"basic",className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(ej.Z,{className:"h-4 w-4"}),"Project Details"]}),a.jsx(l.SZ,{children:"Basic information about your project and deployment"})]}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(ep._,{htmlFor:"project_name",children:"Project Name *"}),a.jsx(em.I,{id:"project_name",placeholder:"my-awesome-app",value:f.project_name,onChange:e=>_("project_name",e.target.value),className:v.project_name?"border-red-500":""}),v.project_name&&a.jsx("p",{className:"text-sm text-red-500",children:v.project_name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(ep._,{htmlFor:"environment",children:"Environment"}),(0,a.jsxs)(eu.Ph,{value:f.environment,onValueChange:e=>_("environment",e),children:[a.jsx(eu.i4,{children:a.jsx(eu.ki,{})}),(0,a.jsxs)(eu.Bw,{children:[a.jsx(eu.Ql,{value:"development",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(i.C,{className:k("development"),children:"Development"})})}),a.jsx(eu.Ql,{value:"staging",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(i.C,{className:k("staging"),children:"Staging"})})}),a.jsx(eu.Ql,{value:"production",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(i.C,{className:k("production"),children:"Production"})})})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ep._,{htmlFor:"framework_type",className:"flex items-center gap-2",children:[a.jsx(eg.Z,{className:"h-4 w-4"}),"Framework Type"]}),(0,a.jsxs)(eu.Ph,{value:f.framework_type,onValueChange:e=>_("framework_type",e),children:[a.jsx(eu.i4,{children:a.jsx(eu.ki,{})}),(0,a.jsxs)(eu.Bw,{children:[a.jsx(eu.Ql,{value:"auto-detect",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(eh.Z,{className:"h-4 w-4"}),"Auto-detect from repository"]})}),a.jsx(eu.Ql,{value:"react",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(ey,{className:"h-4 w-4"}),"React SPA (→ CloudFront + S3)"]})}),a.jsx(eu.Ql,{value:"static",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(ey,{className:"h-4 w-4"}),"Static Website (→ CloudFront + S3)"]})})]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"auto-detect"===f.framework_type?"Framework will be detected from your GitHub repository":"☁️ Static/SPA frameworks deploy to CloudFront + S3"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ep._,{htmlFor:"github_repo",className:"flex items-center gap-2",children:[a.jsx(ev.Z,{className:"h-4 w-4"}),"GitHub Repository (Optional)"]}),a.jsx(em.I,{id:"github_repo",placeholder:"https://github.com/username/repository",value:f.github_repo,onChange:e=>_("github_repo",e.target.value),className:v.github_repo?"border-red-500":""}),v.github_repo&&a.jsx("p",{className:"text-sm text-red-500",children:v.github_repo}),a.jsx("p",{className:"text-sm text-gray-600",children:"If provided, Smart Deploy will analyze your repository for optimal infrastructure template selection"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(ep._,{htmlFor:"domain_name",className:"flex items-center gap-2",children:[a.jsx(eb.Z,{className:"h-4 w-4"}),"Custom Domain (Optional)"]}),a.jsx(em.I,{id:"domain_name",placeholder:"myapp.com",value:f.domain_name,onChange:e=>_("domain_name",e.target.value),className:v.domain_name?"border-red-500":""}),v.domain_name&&a.jsx("p",{className:"text-sm text-red-500",children:v.domain_name})]})]})]})}),(0,a.jsxs)(c.nU,{value:"infrastructure",className:"space-y-6",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(ey,{className:"h-4 w-4"}),"Cloud Provider"]}),a.jsx(l.SZ,{children:"Choose your preferred cloud platform for deployment"})]}),a.jsx(l.aY,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.map(e=>(0,a.jsxs)("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${f.cloud_provider===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>_("cloud_provider",e.id),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"text-2xl",children:D(e.id)}),a.jsx("h3",{className:"font-medium",children:e.name})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.supported_features.slice(0,3).map(e=>a.jsx(i.C,{variant:"secondary",className:"text-xs",children:e.replace("_"," ")},e))})]},e.id))})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Infrastructure Features"}),a.jsx(l.SZ,{children:"Configure the infrastructure components for your deployment"})]}),a.jsx(l.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)(ep._,{className:"flex items-center gap-2",children:[a.jsx(eN.Z,{className:"h-4 w-4"}),"SSL Certificate"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enable HTTPS with automatic SSL"})]}),a.jsx(ex.r,{checked:f.enable_ssl,onCheckedChange:e=>_("enable_ssl",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[a.jsx(ep._,{children:"Content Delivery Network"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Global CDN for faster content delivery"})]}),a.jsx(ex.r,{checked:f.enable_cdn,onCheckedChange:e=>_("enable_cdn",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)(ep._,{className:"flex items-center gap-2",children:[a.jsx(eg.Z,{className:"h-4 w-4"}),"Monitoring"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Real-time application monitoring"})]}),a.jsx(ex.r,{checked:f.enable_monitoring,onCheckedChange:e=>_("enable_monitoring",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)(ep._,{className:"flex items-center gap-2",children:[a.jsx(ew.Z,{className:"h-4 w-4"}),"Automated Backups"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Daily automated data backups"})]}),a.jsx(ex.r,{checked:f.backup_enabled,onCheckedChange:e=>_("backup_enabled",e)})]})]})})]})]}),a.jsx(c.nU,{value:"advanced",className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Advanced Configuration"}),a.jsx(l.SZ,{children:"Fine-tune your deployment with advanced options"})]}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(ep._,{htmlFor:"instance_type",children:"Instance Type"}),(0,a.jsxs)(eu.Ph,{value:f.instance_type,onValueChange:e=>_("instance_type",e),children:[a.jsx(eu.i4,{children:a.jsx(eu.ki,{})}),(0,a.jsxs)(eu.Bw,{children:[a.jsx(eu.Ql,{value:"t3.micro",children:"t3.micro (1 vCPU, 1GB RAM) - $8/month"}),a.jsx(eu.Ql,{value:"t3.small",children:"t3.small (2 vCPU, 2GB RAM) - $16/month"}),a.jsx(eu.Ql,{value:"t3.medium",children:"t3.medium (2 vCPU, 4GB RAM) - $33/month"}),a.jsx(eu.Ql,{value:"t3.large",children:"t3.large (2 vCPU, 8GB RAM) - $67/month"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[a.jsx(ep._,{children:"Auto Scaling"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Automatically scale based on traffic"})]}),a.jsx(ex.r,{checked:f.auto_scaling,onCheckedChange:e=>_("auto_scaling",e)})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[a.jsx(ep._,{children:"Custom VPC"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Deploy in a custom Virtual Private Cloud"})]}),a.jsx(ex.r,{checked:f.custom_vpc,onCheckedChange:e=>_("custom_vpc",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[a.jsx(ep._,{children:"Auto Deploy"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Automatically deploy after infrastructure generation"})]}),a.jsx(ex.r,{checked:f.auto_deploy,onCheckedChange:e=>_("auto_deploy",e)})]})]})]})]})})]}),(0,a.jsxs)(eo,{className:"flex gap-3",children:[a.jsx(n.z,{variant:"outline",onClick:s,disabled:p,children:"Cancel"}),a.jsx(n.z,{onClick:w,disabled:p,className:"min-w-[120px]",children:p?(0,a.jsxs)(a.Fragment,{children:[a.jsx(e_.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(eh.Z,{className:"h-4 w-4 mr-2"}),"Create Deployment"]})})]})]})})}function ek(){let[e,s]=(0,r.useState)("auto-detect");return(0,a.jsxs)("div",{className:"p-4 border rounded-lg bg-white",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Framework Selector Test"}),(0,a.jsxs)("div",{className:"space-y-2 max-w-md",children:[(0,a.jsxs)(ep._,{htmlFor:"framework_type",className:"flex items-center gap-2",children:[a.jsx(eg.Z,{className:"h-4 w-4"}),"Framework Type"]}),(0,a.jsxs)(eu.Ph,{value:e,onValueChange:s,children:[a.jsx(eu.i4,{children:a.jsx(eu.ki,{})}),a.jsx(eu.Bw,{children:a.jsx(eu.Ql,{value:"auto-detect",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(eh.Z,{className:"h-4 w-4"}),"Auto-detect from repository"]})})})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Selected: ",e]}),a.jsx("p",{className:"text-sm text-gray-600",children:"auto-detect"===e?"Framework will be detected from your GitHub repository":"☁️ Static/SPA frameworks deploy to CloudFront + S3"})]})]})}var eC=t(2714);let eS=(0,ef.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var eP=t(3685),eZ=t(5691);let eA=(0,ef.Z)("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);var eR=t(3855),eI=t(6464);let eF=({deployment:e,onRefresh:s})=>a.jsx(l.Zb,{className:"mb-4 hover:shadow-md transition-shadow",children:(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:(e=>{switch(e){case"completed":return"✅";case"failed":return"❌";case"deploying":return"\uD83D\uDE80";case"analyzing":return"\uD83D\uDD0D";default:return"⏳"}})(e.status)}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-lg",children:e.project_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.cloud_provider.toUpperCase()," • ",e.environment]})]})]}),a.jsx(i.C,{className:(e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"deploying":return"bg-blue-100 text-blue-800";case"analyzing":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(e.status),children:e.status})]}),"deploying"===e.status&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[e.progress,"%"]})]}),a.jsx(o.E,{value:e.progress,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["ETA: ",e.estimated_completion]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.deployment_url&&a.jsx(n.z,{size:"sm",onClick:()=>window.open(e.deployment_url,"_blank"),className:"flex items-center gap-1",children:"\uD83C\uDF10 View Site"}),a.jsx(n.z,{variant:"outline",size:"sm",onClick:s,children:"\uD83D\uDD04 Refresh"})]})]})}),eM=()=>{let[e,s]=(0,r.useState)("aws"),[t,n]=(0,r.useState)("static_site"),[o,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(!1),p=[{id:"static_site",name:"Static Website",resources:["S3","CloudFront","Route53"]},{id:"spa",name:"Single Page App",resources:["EC2","ALB","CloudFront","RDS"]},{id:"api",name:"REST API",resources:["ECS","ALB","RDS","ElastiCache"]},{id:"fullstack",name:"Full-stack App",resources:["ECS","RDS","S3","CloudFront","ALB"]}],u=async()=>{m(!0);try{let s=await fetch("http://localhost:8000/api/v1/smart-deploy/infrastructure/preview",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||"demo-token"}`},body:JSON.stringify({cloud_provider:e,project_type:t})});if(s.ok){let e=await s.json();c(e)}else x()}catch(e){console.error("Failed to generate preview:",e),x()}finally{m(!1)}},x=()=>{let s=p.find(e=>e.id===t);c({cloud_provider:e,project_type:t,estimated_cost:100*Math.random()+20,resources:s?.resources.map((e,s)=>({id:`resource-${s}`,name:e,type:h(e),cost:30*Math.random()+5,status:"planned"}))||[]})},h=e=>({S3:"Storage",CloudFront:"CDN",Route53:"DNS",EC2:"Compute",ECS:"Container",ALB:"Load Balancer",RDS:"Database",ElastiCache:"Cache"})[e]||"Service",j=e=>({Storage:"\uD83D\uDCBE",CDN:"\uD83C\uDF10",DNS:"\uD83D\uDD17",Compute:"\uD83D\uDCBB",Container:"\uD83D\uDCE6","Load Balancer":"⚖️",Database:"\uD83D\uDDC4️",Cache:"⚡"})[e]||"\uD83D\uDD27";return(0,r.useEffect)(()=>{u()},[e,t]),a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(eC.Z,{className:"h-5 w-5 text-blue-500"}),"Infrastructure Preview"]}),a.jsx(l.SZ,{children:"AI-powered infrastructure recommendations for your project"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cloud Provider"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"aws",name:"AWS",icon:"\uD83C\uDF29️",color:"bg-orange-100 text-orange-800"},{id:"gcp",name:"Google Cloud",icon:"☁️",color:"bg-blue-100 text-blue-800"},{id:"azure",name:"Azure",icon:"\uD83D\uDD37",color:"bg-blue-100 text-blue-800"}].map(t=>(0,a.jsxs)("button",{onClick:()=>s(t.id),className:`p-3 border rounded-lg text-center transition-all ${e===t.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:t.icon}),a.jsx("div",{className:"text-sm font-medium",children:t.name})]},t.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Type"}),a.jsx("div",{className:"space-y-2",children:p.map(e=>(0,a.jsxs)("button",{onClick:()=>n(e.id),className:`w-full p-3 border rounded-lg text-left transition-all ${t===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"font-medium",children:e.name}),a.jsx("div",{className:"text-sm text-gray-600",children:e.resources.join(", ")})]},e.id))})]})]}),d?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(eS,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),a.jsx("p",{className:"text-lg font-medium",children:"Generating infrastructure preview..."})]}):o?(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-lg",children:"Estimated Monthly Cost"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",o.estimated_cost.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Provider"}),a.jsx("p",{className:"font-medium",children:e.toUpperCase()})]})]})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-lg mb-4",children:"Infrastructure Resources"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.resources.map(e=>a.jsx(l.Zb,{className:"hover:shadow-md transition-shadow",children:a.jsx(l.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",children:j(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600",children:e.type}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[a.jsx(i.C,{variant:"outline",children:e.status}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:["$",e.cost.toFixed(2),"/month"]})]})]})]})})},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-lg mb-4",children:"Architecture Diagram"}),(0,a.jsxs)("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("div",{className:"flex items-center justify-center space-x-4 flex-wrap",children:o.resources.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm border",children:[a.jsx("div",{className:"text-xl mb-1",children:j(e.type)}),a.jsx("div",{className:"text-xs font-medium",children:e.name})]}),s<o.resources.length-1&&a.jsx("div",{className:"text-gray-400 mx-2",children:"→"})]},e.id))}),a.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Interactive architecture diagram coming soon!"})]})]})]}):null]})]})})},ez=({deployments:e})=>{let[s,t]=(0,r.useState)(""),[n,c]=(0,r.useState)("disconnected"),[d,m]=(0,r.useState)([]),p=(0,r.useRef)(null);(0,r.useEffect)(()=>(u(),()=>{p.current&&p.current.close()}),[]);let u=()=>{try{c("connecting"),p.current=new WebSocket("ws://localhost:8000/api/v1/smart-deploy/ws/realtime"),p.current.onopen=()=>{c("connected"),console.log("WebSocket connected")},p.current.onmessage=e=>{let s=JSON.parse(e.data);m(e=>[s,...e.slice(0,49)])},p.current.onerror=()=>{c("disconnected"),x()},p.current.onclose=()=>{c("disconnected"),setTimeout(u,5e3)}}catch(e){c("disconnected"),x()}},x=()=>{c("connected");let s=setInterval(()=>{let s={id:Date.now(),timestamp:new Date().toISOString(),deployment_id:e[0]?.id||"demo",event:"progress_update",message:"Infrastructure deployment in progress...",progress:Math.min(100,100*Math.random())};m(e=>[s,...e.slice(0,49)])},3e3);setTimeout(()=>clearInterval(s),3e4)};return a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(eS,{className:"h-5 w-5 text-blue-500"}),"Real-time Deployment Monitor"]}),a.jsx(l.SZ,{children:"Live updates from deployment processes"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${"connected"===n?"bg-green-500":"connecting"===n?"bg-yellow-500":"bg-red-500"}`}),a.jsx("span",{className:"text-sm capitalize",children:n})]})]})}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium mb-4",children:["Active Deployments (",e.length,")"]}),a.jsx("div",{className:"space-y-3",children:e.filter(e=>"completed"!==e.status).map(e=>(0,a.jsxs)("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${s===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>t(e.id),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-sm",children:e.project_name}),a.jsx(i.C,{className:"text-xs",children:e.status})]}),a.jsx(o.E,{value:e.progress,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[e.cloud_provider.toUpperCase()," • ",e.progress,"%"]})]},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium mb-4",children:"Live Events"}),a.jsx("div",{className:"bg-gray-900 text-green-400 rounded-lg p-4 h-64 overflow-y-auto font-mono text-sm",children:0===d.length?a.jsx("p",{className:"text-gray-500",children:"Waiting for events..."}):d.map(e=>(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("span",{className:"text-gray-500",children:["[",new Date(e.timestamp).toLocaleTimeString(),"]"]}),a.jsx("span",{className:"ml-2",children:e.message}),e.progress&&(0,a.jsxs)("span",{className:"text-blue-400 ml-2",children:["(",Math.round(e.progress),"%)"]})]},e.id))})]})]})})]})})},eE=({onUploadComplete:e})=>{let[s,t]=(0,r.useState)("idle"),[c,d]=(0,r.useState)(0),[m,p]=(0,r.useState)(null),[u,x]=(0,r.useState)(!1),h=async e=>{if(!e.name.endsWith(".zip")){alert("Please upload a ZIP file");return}t("uploading"),d(0);try{let s=setInterval(()=>{d(e=>Math.min(e+20,90))},500),a=new FormData;a.append("file",e);let r=await fetch("http://localhost:8000/api/v1/smart-deploy/upload-repository",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||"demo-token"}`},body:a});if(clearInterval(s),d(100),r.ok){t("analyzing");let e=await r.json();await g(e.temp_path)}else t("analyzing"),await j(e)}catch(s){console.error("Upload failed:",s),t("analyzing"),await j(e)}},j=async e=>{await new Promise(e=>setTimeout(e,3e3)),p({project_type:"spa",framework:f(e.name),languages:["TypeScript","JavaScript","CSS"],dependencies:["react","next.js","tailwindcss","typescript"],recommendations:["Use AWS CloudFront for global CDN","Enable automatic SSL with AWS Certificate Manager","Implement auto-scaling with Application Load Balancer","Add RDS for database with automated backups","Configure CloudWatch for monitoring and alerts"],estimated_resources:5,estimated_cost:47.5}),t("complete")},g=async e=>{try{let s=await fetch("http://localhost:8000/api/v1/smart-deploy/analyze-repository",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||"demo-token"}`},body:JSON.stringify({temp_path:e})});if(s.ok){let e=await s.json(),a=e.analysis||e;p(a),t("complete")}else throw Error("Analysis failed")}catch(e){await j(new File([],"fallback.zip"))}},f=e=>{let s=["React","Vue.js","Angular","Next.js","Nuxt.js"];return s[Math.floor(Math.random()*s.length)]};return a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(eP.Z,{className:"h-5 w-5 text-blue-500"}),"Repository Upload & Analysis"]}),a.jsx(l.SZ,{children:"Upload your project for AI-powered analysis and infrastructure recommendations"})]}),(0,a.jsxs)(l.aY,{children:["idle"===s&&(0,a.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${u?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDrop:e=>{e.preventDefault(),x(!1);let s=Array.from(e.dataTransfer.files);s.length>0&&h(s[0])},onDragOver:e=>e.preventDefault(),onDragEnter:()=>x(!0),onDragLeave:()=>x(!1),children:[a.jsx(eP.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Repository"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop your project ZIP file, or click to browse"}),a.jsx("input",{type:"file",accept:".zip",onChange:e=>{let s=e.target.files;s&&s.length>0&&h(s[0])},className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",children:a.jsx(n.z,{variant:"outline",children:"Choose File"})}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Maximum file size: 100MB. ZIP files only."})]}),"uploading"===s&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(eP.Z,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Uploading Repository..."}),(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[a.jsx(o.E,{value:c,className:"h-3"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[c,"% complete"]})]})]}),"analyzing"===s&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(eS,{className:"h-12 w-12 text-purple-500 animate-spin mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Analyzing repository..."}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsx("p",{children:"\uD83D\uDD0D Detecting project type and framework"}),a.jsx("p",{children:"\uD83D\uDCE6 Analyzing dependencies and architecture"}),a.jsx("p",{children:"☁️ Selecting optimal Terraform template"})]})]}),"complete"===s&&m&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600 mb-4",children:[a.jsx("span",{className:"text-2xl",children:"✅"}),a.jsx("span",{className:"text-lg font-medium",children:"Analysis Complete!"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{className:"text-lg",children:"Project Analysis"})}),(0,a.jsxs)(l.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Framework"}),a.jsx("p",{className:"text-lg font-semibold",children:m.framework})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Project Type"}),a.jsx("p",{className:"text-lg font-semibold capitalize",children:m.project_type.replace("_"," ")})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Languages"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:m.languages.map(e=>a.jsx(i.C,{variant:"secondary",children:e},e))})]})]})]}),(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{className:"text-lg",children:"Infrastructure Plan"})}),(0,a.jsxs)(l.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estimated Cost"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",m.estimated_cost,"/month"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resources"}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[m.estimated_resources," components"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Key Dependencies"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:m.dependencies.slice(0,4).map(e=>a.jsx(i.C,{variant:"outline",children:e},e))})]})]})]})]}),(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{className:"text-lg",children:"AI Recommendations"})}),a.jsx(l.aY,{children:a.jsx("div",{className:"space-y-2",children:m.recommendations.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),a.jsx("span",{className:"text-sm",children:e})]},s))})})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(n.z,{onClick:()=>{e(),t("idle"),p(null),d(0)},className:"flex items-center gap-2",children:[a.jsx(eZ.Z,{className:"h-4 w-4"}),"Create Smart Deployment"]}),a.jsx(n.z,{variant:"outline",onClick:()=>{t("idle"),p(null),d(0)},children:"Upload Different Project"})]})]})]})]})})};function eT(){let[e,s]=(0,r.useState)([]),[t,o]=(0,r.useState)({total_deployments:0,active_deployments:0,successful_deployments:0,monthly_cost:0,ai_generations:0}),[m,p]=(0,r.useState)("overview"),[u,x]=(0,r.useState)(!1),[h,j]=(0,r.useState)(!0),[g,f]=(0,r.useState)(null),[y,v]=(0,r.useState)(!1),[b,N]=(0,r.useState)(null),{updateAuthToken:w}=(0,d.L_)(),_=(0,d.CX)(),D=()=>{let e=localStorage.getItem("codeflowops_access_token")||"demo-token";return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}},k=async()=>{try{let e=await fetch("http://localhost:8000/api/v1/smart-deploy/deployments",{headers:D()});if(e.ok){let t=await e.json();s(t.deployments||[])}else console.log("Backend not available, using demo data"),C()}catch(e){console.error("Failed to fetch deployments:",e),C()}finally{j(!1)}},C=()=>{s([{id:"deploy-1",project_name:"React E-commerce App",status:"completed",progress:100,cloud_provider:"aws",environment:"production",created_at:new Date().toISOString(),deployment_url:"https://my-app.example.com"},{id:"deploy-2",project_name:"Next.js Blog",status:"deploying",progress:65,cloud_provider:"gcp",environment:"staging",created_at:new Date(Date.now()-36e5).toISOString(),estimated_completion:"2 minutes"},{id:"deploy-3",project_name:"Vue.js Dashboard",status:"analyzing",progress:25,cloud_provider:"azure",environment:"development",created_at:new Date(Date.now()-72e5).toISOString(),estimated_completion:"5 minutes"}])},S=e=>{let t=setInterval(async()=>{try{let a=await fetch(`http://localhost:8000/api/v1/smart-deploy/status/${e}`,{headers:D()});if(a.ok){let r=await a.json();s(s=>s.map(s=>s.id===e?{...s,status:r.status,progress:r.progress,message:r.message}:s)),("completed"===r.status||"failed"===r.status)&&clearInterval(t)}}catch(e){console.error("Error polling deployment status:",e)}},3e3);setTimeout(()=>clearInterval(t),6e5)},P=async e=>{console.log("\uD83D\uDE80 Starting deployment creation with data:",e),console.log("\uD83D\uDD0D Framework information:",{framework:e.framework,framework_type:e.framework_type,project_type:e.project_type,analysis_result:e.analysis_result});try{let t={project_name:e.project_name,cloud_provider:e.cloud_provider||"aws",environment:e.environment||"production",domain_name:e.domain_name||"",github_repo:e.github_repo||"",auto_deploy:e.auto_deploy||!1,framework:e.framework,framework_type:e.framework_type,project_type:e.project_type,analysis_result:e.analysis_result};console.log("\uD83D\uDCDD Formatted deployment request:",t),console.log("\uD83D\uDD17 Making API call to create deployment...");let a=await _.createDeployment(t);console.log("✅ Deployment created successfully:",a);let r={id:a.deployment_id,project_name:e.project_name||"Demo Project",status:a.status||"analyzing",progress:5,cloud_provider:e.cloud_provider||"aws",environment:e.environment||"production",created_at:new Date().toISOString(),estimated_completion:"5 minutes",message:a.message,terraform_template:!0};console.log("\uD83D\uDCCA Adding deployment to UI:",r),s(e=>[r,...e]),x(!1),console.log("\uD83C\uDFAF Switching to monitor tab and selecting deployment"),p("monitor"),f(a.deployment_id),S(a.deployment_id),console.log("\uD83C\uDF89 Deployment creation process completed successfully!")}catch(s){console.error("❌ Failed to create deployment:",s),console.error("Error details:",{message:s.message,stack:s.stack,response:s.response?.data});let e=s.message||s.toString();alert(`Error creating deployment: ${e}

Check the browser console for more details.`)}};return h?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(eS,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-blue-500"}),a.jsx("p",{className:"text-lg font-medium",children:"Loading Smart Deploy Dashboard..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(eZ.Z,{className:"h-8 w-8 text-blue-500"}),"Smart Deploy",(0,a.jsxs)(i.C,{className:"ml-2 bg-green-100 text-green-800",children:[a.jsx(eA,{className:"h-3 w-3 mr-1"}),"Terraform Ready"]})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Traditional Terraform-based infrastructure deployment"})]}),a.jsx("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>x(!0),className:"flex items-center gap-2",children:[a.jsx(eR.Z,{className:"h-4 w-4"}),"New Deployment"]})})]})}),a.jsx("div",{className:"mb-8",children:a.jsx(ek,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Deployments"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.total_deployments})]}),a.jsx(eA,{className:"h-8 w-8 text-blue-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.active_deployments})]}),a.jsx(eS,{className:"h-8 w-8 text-orange-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Successful"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.successful_deployments})]}),a.jsx(ey,{className:"h-8 w-8 text-green-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Cost"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",t.monthly_cost]})]}),a.jsx(eI.Z,{className:"h-8 w-8 text-purple-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"AI Generations"}),a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:t.ai_generations})]}),a.jsx(ej.Z,{className:"h-8 w-8 text-indigo-500"})]})})})]}),(0,a.jsxs)(c.mQ,{value:m,onValueChange:p,className:"space-y-6",children:[(0,a.jsxs)(c.dr,{className:"grid w-full grid-cols-4",children:[a.jsx(c.SP,{value:"overview",children:"Overview"}),a.jsx(c.SP,{value:"monitor",children:"Real-time Monitor"}),a.jsx(c.SP,{value:"preview",children:"Infrastructure Preview"}),a.jsx(c.SP,{value:"upload",children:"Repository Upload"})]}),a.jsx(c.nU,{value:"overview",className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Recent Deployments"}),a.jsx(l.SZ,{children:"Your latest Smart Deploy infrastructure deployments"})]}),a.jsx(l.aY,{children:0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(eZ.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No deployments yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first Smart Deployment"}),(0,a.jsxs)(n.z,{onClick:()=>x(!0),children:[a.jsx(eR.Z,{className:"h-4 w-4 mr-2"}),"Create Deployment"]})]}):a.jsx("div",{className:"space-y-4",children:e.map(e=>a.jsx(eF,{deployment:e,onRefresh:k},e.id))})})]})}),a.jsx(c.nU,{value:"monitor",children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(ez,{deployments:e}),y&&(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(eS,{className:"h-5 w-5"}),"Integration Test"]}),a.jsx(l.SZ,{children:"Test the complete deployment workflow end-to-end"})]}),a.jsx(l.aY,{children:(0,a.jsxs)(n.z,{onClick:async()=>{try{let e=await _.checkHealth();console.log("Health check result:",e),alert(`Integration test completed! Backend is ${"healthy"===e.status?"healthy":"not responding"}`)}catch(e){console.error("Integration test failed:",e),alert("Integration test failed. Check console for details.")}},className:"flex items-center gap-2",children:[a.jsx(eZ.Z,{className:"h-4 w-4"}),"Run Full Integration Test"]})})]})]})}),a.jsx(c.nU,{value:"preview",children:a.jsx(eM,{})}),a.jsx(c.nU,{value:"upload",children:a.jsx(eE,{onUploadComplete:k})})]}),a.jsx(eD,{isOpen:u,onClose:()=>x(!1),onSubmit:P,analysisResult:b})]})})}function eO(){return a.jsx(eT,{})}},6655:(e,s,t)=>{"use strict";t.d(s,{r:()=>w});var a=t(326),r=t(7577),l=t(2561),n=t(8051),i=t(3095),o=t(2067),c=t(3405),d=t(2566),m=t(5226),p="Switch",[u,x]=(0,i.b)(p),[h,j]=u(p),g=r.forwardRef((e,s)=>{let{__scopeSwitch:t,name:i,checked:c,defaultChecked:d,required:u,disabled:x,value:j="on",onCheckedChange:g,form:f,...y}=e,[N,w]=r.useState(null),_=(0,n.e)(s,e=>w(e)),D=r.useRef(!1),k=!N||f||!!N.closest("form"),[C,S]=(0,o.T)({prop:c,defaultProp:d??!1,onChange:g,caller:p});return(0,a.jsxs)(h,{scope:t,checked:C,disabled:x,children:[(0,a.jsx)(m.WV.button,{type:"button",role:"switch","aria-checked":C,"aria-required":u,"data-state":b(C),"data-disabled":x?"":void 0,disabled:x,value:j,...y,ref:_,onClick:(0,l.M)(e.onClick,e=>{S(e=>!e),k&&(D.current=e.isPropagationStopped(),D.current||e.stopPropagation())})}),k&&(0,a.jsx)(v,{control:N,bubbles:!D.current,name:i,value:j,checked:C,required:u,disabled:x,form:f,style:{transform:"translateX(-100%)"}})]})});g.displayName=p;var f="SwitchThumb",y=r.forwardRef((e,s)=>{let{__scopeSwitch:t,...r}=e,l=j(f,t);return(0,a.jsx)(m.WV.span,{"data-state":b(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:s})});y.displayName=f;var v=r.forwardRef(({__scopeSwitch:e,control:s,checked:t,bubbles:l=!0,...i},o)=>{let m=r.useRef(null),p=(0,n.e)(m,o),u=(0,c.D)(t),x=(0,d.t)(s);return r.useEffect(()=>{let e=m.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==t&&s){let a=new Event("click",{bubbles:l});s.call(e,t),e.dispatchEvent(a)}},[u,t,l]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:p,style:{...i.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}v.displayName="SwitchBubbleInput";var N=t(7863);let w=r.forwardRef(({className:e,...s},t)=>a.jsx(g,{className:(0,N.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:a.jsx(y,{className:(0,N.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));w.displayName=g.displayName},3427:(e,s,t)=>{"use strict";t.d(s,{mQ:()=>P,nU:()=>R,dr:()=>Z,SP:()=>A});var a=t(326),r=t(7577),l=t(2561),n=t(3095),i=t(5594),o=t(9815),c=t(5226),d=t(7124),m=t(2067),p=t(8957),u="Tabs",[x,h]=(0,n.b)(u,[i.Pc]),j=(0,i.Pc)(),[g,f]=x(u),y=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:l,defaultValue:n,orientation:i="horizontal",dir:o,activationMode:x="automatic",...h}=e,j=(0,d.gm)(o),[f,y]=(0,m.T)({prop:r,onChange:l,defaultProp:n??"",caller:u});return(0,a.jsx)(g,{scope:t,baseId:(0,p.M)(),value:f,onValueChange:y,orientation:i,dir:j,activationMode:x,children:(0,a.jsx)(c.WV.div,{dir:j,"data-orientation":i,...h,ref:s})})});y.displayName=u;var v="TabsList",b=r.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...l}=e,n=f(v,t),o=j(t);return(0,a.jsx)(i.fC,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:r,children:(0,a.jsx)(c.WV.div,{role:"tablist","aria-orientation":n.orientation,...l,ref:s})})});b.displayName=v;var N="TabsTrigger",w=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,disabled:n=!1,...o}=e,d=f(N,t),m=j(t),p=k(d.baseId,r),u=C(d.baseId,r),x=r===d.value;return(0,a.jsx)(i.ck,{asChild:!0,...m,focusable:!n,active:x,children:(0,a.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":u,"data-state":x?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:p,...o,ref:s,onMouseDown:(0,l.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,l.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,l.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;x||n||!e||d.onValueChange(r)})})})});w.displayName=N;var _="TabsContent",D=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:l,forceMount:n,children:i,...d}=e,m=f(_,t),p=k(m.baseId,l),u=C(m.baseId,l),x=l===m.value,h=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(o.z,{present:n||x,children:({present:t})=>(0,a.jsx)(c.WV.div,{"data-state":x?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":p,hidden:!t,id:u,tabIndex:0,...d,ref:s,style:{...e.style,animationDuration:h.current?"0s":void 0},children:t&&i})})});function k(e,s){return`${e}-trigger-${s}`}function C(e,s){return`${e}-content-${s}`}D.displayName=_;var S=t(7863);let P=y,Z=r.forwardRef(({className:e,...s},t)=>a.jsx(b,{ref:t,className:(0,S.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));Z.displayName=b.displayName;let A=r.forwardRef(({className:e,...s},t)=>a.jsx(w,{ref:t,className:(0,S.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));A.displayName=w.displayName;let R=r.forwardRef(({className:e,...s},t)=>a.jsx(D,{ref:t,className:(0,S.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));R.displayName=D.displayName},6464:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},8319:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},5290:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3892:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},165:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},3685:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},4101:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\ClayDesk.AI\codeflowops-saas\frontend\app\smart-deploy\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[771,882,879,50],()=>t(2517));module.exports=a})();