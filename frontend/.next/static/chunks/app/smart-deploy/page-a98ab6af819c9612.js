(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[657],{228:function(e,s,t){Promise.resolve().then(t.bind(t,40))},40:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return H}});var a=t(7437),l=t(2265),r=t(6070),n=t(2869),i=t(5974),c=t(2759),o=t(2339),d=t(9116),m=t(9027),x=t(2489),p=t(4508);let u=m.fC;m.xz;let h=m.h_;m.x8;let j=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(m.aV,{ref:s,className:(0,p.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})});j.displayName=m.aV.displayName;let g=l.forwardRef((e,s)=>{let{className:t,children:l,...r}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(j,{}),(0,a.jsxs)(m.VY,{ref:s,className:(0,p.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[l,(0,a.jsxs)(m.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});g.displayName=m.VY.displayName;let f=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,p.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};f.displayName="DialogHeader";let y=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,p.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};y.displayName="DialogFooter";let N=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(m.Dx,{ref:s,className:(0,p.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})});N.displayName=m.Dx.displayName;let v=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(m.dk,{ref:s,className:(0,p.cn)("text-sm text-muted-foreground",t),...l})});v.displayName=m.dk.displayName;var b=t(5186),w=t(6815),_=t(3647),D=t(1828),C=t(1239),k=t(8728),S=t(6137),Z=t(1341),A=t(5135),P=t(9202),F=t(8906),z=t(91),I=t(5863);function R(e){let{isOpen:s,onClose:t,onSubmit:c,analysisResult:d}=e,[m,x]=(0,l.useState)("basic"),[p,h]=(0,l.useState)(!1),[j,R]=(0,l.useState)([]),[E,T]=(0,l.useState)([]),[O,B]=(0,l.useState)({project_name:"",cloud_provider:"aws",environment:"production",domain_name:"",github_repo:"",auto_deploy:!1,framework_type:"auto-detect",enable_monitoring:!0,enable_cdn:!0,enable_ssl:!0,instance_type:"t3.micro",auto_scaling:!1,backup_enabled:!0,custom_vpc:!1}),[U,Y]=(0,l.useState)({});(0,l.useEffect)(()=>{s&&($(),M())},[s]);let $=async()=>{try{let e=await fetch("/api/v1/smart-deploy/providers");if(e.ok){let s=await e.json();R(s.providers||[])}}catch(e){console.error("Failed to fetch providers:",e)}},M=async()=>{try{let e=await fetch("/api/v1/smart-deploy/project-types");if(e.ok){let s=await e.json();T(s.project_types||[])}}catch(e){console.error("Failed to fetch project types:",e)}},V=()=>{let e={};return O.project_name.trim()?O.project_name.length<3?e.project_name="Project name must be at least 3 characters":/^[a-zA-Z0-9-_]+$/.test(O.project_name)||(e.project_name="Project name can only contain letters, numbers, hyphens, and underscores"):e.project_name="Project name is required",O.github_repo&&!O.github_repo.includes("github.com")&&(e.github_repo="Please enter a valid GitHub repository URL"),O.domain_name&&!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(O.domain_name)&&(e.domain_name="Please enter a valid domain name"),Y(e),0===Object.keys(e).length},L=async()=>{if(V()){h(!0);try{let e={...O,framework:d?.framework||d?.projectType||("auto-detect"!==O.framework_type?O.framework_type:null),framework_type:d?.framework?.type||O.framework_type,project_type:d?.projectType||d?.project_type||("auto-detect"!==O.framework_type?O.framework_type:null),analysis_result:d||null};await c(e),B({project_name:"",cloud_provider:"aws",environment:"production",domain_name:"",github_repo:"",auto_deploy:!1,framework_type:"auto-detect",enable_monitoring:!0,enable_cdn:!0,enable_ssl:!0,instance_type:"t3.micro",auto_scaling:!1,backup_enabled:!0,custom_vpc:!1}),Y({})}catch(e){console.error("Failed to create deployment:",e)}finally{h(!1)}}},Q=(e,s)=>{B(t=>({...t,[e]:s})),U[e]&&Y(s=>({...s,[e]:""}))},G=e=>{switch(e){case"aws":return"\uD83C\uDF29️";case"gcp":default:return"☁️";case"azure":return"\uD83D\uDD37"}},W=e=>{switch(e){case"development":return"bg-yellow-100 text-yellow-800";case"staging":return"bg-orange-100 text-orange-800";case"production":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsx)(u,{open:s,onOpenChange:t,children:(0,a.jsxs)(g,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(f,{children:[(0,a.jsxs)(N,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-5 w-5 text-blue-500"}),"Create Smart Deployment"]}),(0,a.jsx)(v,{children:"Configure your Terraform-based infrastructure deployment. Smart Deploy will analyze your project and select optimal cloud infrastructure templates."})]}),(0,a.jsxs)(o.mQ,{value:m,onValueChange:x,className:"w-full",children:[(0,a.jsxs)(o.dr,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(o.SP,{value:"basic",children:"Basic Configuration"}),(0,a.jsx)(o.SP,{value:"infrastructure",children:"Infrastructure"}),(0,a.jsx)(o.SP,{value:"advanced",children:"Advanced Options"})]}),(0,a.jsx)(o.nU,{value:"basic",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4"}),"Project Details"]}),(0,a.jsx)(r.SZ,{children:"Basic information about your project and deployment"})]}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{htmlFor:"project_name",children:"Project Name *"}),(0,a.jsx)(b.I,{id:"project_name",placeholder:"my-awesome-app",value:O.project_name,onChange:e=>Q("project_name",e.target.value),className:U.project_name?"border-red-500":""}),U.project_name&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:U.project_name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{htmlFor:"environment",children:"Environment"}),(0,a.jsxs)(_.Ph,{value:O.environment,onValueChange:e=>Q("environment",e),children:[(0,a.jsx)(_.i4,{children:(0,a.jsx)(_.ki,{})}),(0,a.jsxs)(_.Bw,{children:[(0,a.jsx)(_.Ql,{value:"development",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(i.C,{className:W("development"),children:"Development"})})}),(0,a.jsx)(_.Ql,{value:"staging",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(i.C,{className:W("staging"),children:"Staging"})})}),(0,a.jsx)(_.Ql,{value:"production",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(i.C,{className:W("production"),children:"Production"})})})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(w._,{htmlFor:"framework_type",className:"flex items-center gap-2",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4"}),"Framework Type"]}),(0,a.jsxs)(_.Ph,{value:O.framework_type,onValueChange:e=>Q("framework_type",e),children:[(0,a.jsx)(_.i4,{children:(0,a.jsx)(_.ki,{})}),(0,a.jsxs)(_.Bw,{children:[(0,a.jsx)(_.Ql,{value:"auto-detect",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4"}),"Auto-detect from repository"]})}),(0,a.jsx)(_.Ql,{value:"react",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4"}),"React SPA (→ CloudFront + S3)"]})}),(0,a.jsx)(_.Ql,{value:"static",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4"}),"Static Website (→ CloudFront + S3)"]})})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"auto-detect"===O.framework_type?"Framework will be detected from your GitHub repository":"☁️ Static/SPA frameworks deploy to CloudFront + S3"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(w._,{htmlFor:"github_repo",className:"flex items-center gap-2",children:[(0,a.jsx)(A.Z,{className:"h-4 w-4"}),"GitHub Repository (Optional)"]}),(0,a.jsx)(b.I,{id:"github_repo",placeholder:"https://github.com/username/repository",value:O.github_repo,onChange:e=>Q("github_repo",e.target.value),className:U.github_repo?"border-red-500":""}),U.github_repo&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:U.github_repo}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"If provided, Smart Deploy will analyze your repository for optimal infrastructure template selection"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(w._,{htmlFor:"domain_name",className:"flex items-center gap-2",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4"}),"Custom Domain (Optional)"]}),(0,a.jsx)(b.I,{id:"domain_name",placeholder:"myapp.com",value:O.domain_name,onChange:e=>Q("domain_name",e.target.value),className:U.domain_name?"border-red-500":""}),U.domain_name&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:U.domain_name})]})]})]})}),(0,a.jsxs)(o.nU,{value:"infrastructure",className:"space-y-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4"}),"Cloud Provider"]}),(0,a.jsx)(r.SZ,{children:"Choose your preferred cloud platform for deployment"})]}),(0,a.jsx)(r.aY,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:j.map(e=>(0,a.jsxs)("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${O.cloud_provider===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>Q("cloud_provider",e.id),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:G(e.id)}),(0,a.jsx)("h3",{className:"font-medium",children:e.name})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.supported_features.slice(0,3).map(e=>(0,a.jsx)(i.C,{variant:"secondary",className:"text-xs",children:e.replace("_"," ")},e))})]},e.id))})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsx)(r.ll,{children:"Infrastructure Features"}),(0,a.jsx)(r.SZ,{children:"Configure the infrastructure components for your deployment"})]}),(0,a.jsx)(r.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)(w._,{className:"flex items-center gap-2",children:[(0,a.jsx)(F.Z,{className:"h-4 w-4"}),"SSL Certificate"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Enable HTTPS with automatic SSL"})]}),(0,a.jsx)(D.r,{checked:O.enable_ssl,onCheckedChange:e=>Q("enable_ssl",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(w._,{children:"Content Delivery Network"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Global CDN for faster content delivery"})]}),(0,a.jsx)(D.r,{checked:O.enable_cdn,onCheckedChange:e=>Q("enable_cdn",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)(w._,{className:"flex items-center gap-2",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4"}),"Monitoring"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Real-time application monitoring"})]}),(0,a.jsx)(D.r,{checked:O.enable_monitoring,onCheckedChange:e=>Q("enable_monitoring",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)(w._,{className:"flex items-center gap-2",children:[(0,a.jsx)(z.Z,{className:"h-4 w-4"}),"Automated Backups"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Daily automated data backups"})]}),(0,a.jsx)(D.r,{checked:O.backup_enabled,onCheckedChange:e=>Q("backup_enabled",e)})]})]})})]})]}),(0,a.jsx)(o.nU,{value:"advanced",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsx)(r.ll,{children:"Advanced Configuration"}),(0,a.jsx)(r.SZ,{children:"Fine-tune your deployment with advanced options"})]}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{htmlFor:"instance_type",children:"Instance Type"}),(0,a.jsxs)(_.Ph,{value:O.instance_type,onValueChange:e=>Q("instance_type",e),children:[(0,a.jsx)(_.i4,{children:(0,a.jsx)(_.ki,{})}),(0,a.jsxs)(_.Bw,{children:[(0,a.jsx)(_.Ql,{value:"t3.micro",children:"t3.micro (1 vCPU, 1GB RAM) - $8/month"}),(0,a.jsx)(_.Ql,{value:"t3.small",children:"t3.small (2 vCPU, 2GB RAM) - $16/month"}),(0,a.jsx)(_.Ql,{value:"t3.medium",children:"t3.medium (2 vCPU, 4GB RAM) - $33/month"}),(0,a.jsx)(_.Ql,{value:"t3.large",children:"t3.large (2 vCPU, 8GB RAM) - $67/month"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(w._,{children:"Auto Scaling"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Automatically scale based on traffic"})]}),(0,a.jsx)(D.r,{checked:O.auto_scaling,onCheckedChange:e=>Q("auto_scaling",e)})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(w._,{children:"Custom VPC"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Deploy in a custom Virtual Private Cloud"})]}),(0,a.jsx)(D.r,{checked:O.custom_vpc,onCheckedChange:e=>Q("custom_vpc",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(w._,{children:"Auto Deploy"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Automatically deploy after infrastructure generation"})]}),(0,a.jsx)(D.r,{checked:O.auto_deploy,onCheckedChange:e=>Q("auto_deploy",e)})]})]})]})]})})]}),(0,a.jsxs)(y,{className:"flex gap-3",children:[(0,a.jsx)(n.z,{variant:"outline",onClick:t,disabled:p,children:"Cancel"}),(0,a.jsx)(n.z,{onClick:L,disabled:p,className:"min-w-[120px]",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 mr-2"}),"Create Deployment"]})})]})]})})}function E(){let[e,s]=(0,l.useState)("auto-detect");return(0,a.jsxs)("div",{className:"p-4 border rounded-lg bg-white",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Framework Selector Test"}),(0,a.jsxs)("div",{className:"space-y-2 max-w-md",children:[(0,a.jsxs)(w._,{htmlFor:"framework_type",className:"flex items-center gap-2",children:[(0,a.jsx)(S.Z,{className:"h-4 w-4"}),"Framework Type"]}),(0,a.jsxs)(_.Ph,{value:e,onValueChange:s,children:[(0,a.jsx)(_.i4,{children:(0,a.jsx)(_.ki,{})}),(0,a.jsx)(_.Bw,{children:(0,a.jsx)(_.Ql,{value:"auto-detect",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4"}),"Auto-detect from repository"]})})})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Selected: ",e]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"auto-detect"===e?"Framework will be detected from your GitHub repository":"☁️ Static/SPA frameworks deploy to CloudFront + S3"})]})]})}var T=t(2208),O=t(4401),B=t(7689),U=t(6076),Y=t(1947),$=t(9397),M=t(6221);let V=e=>{let{deployment:s,onRefresh:t}=e;return(0,a.jsx)(r.Zb,{className:"mb-4 hover:shadow-md transition-shadow",children:(0,a.jsxs)(r.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:(e=>{switch(e){case"completed":return"✅";case"failed":return"❌";case"deploying":return"\uD83D\uDE80";case"analyzing":return"\uD83D\uDD0D";default:return"⏳"}})(s.status)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-lg",children:s.project_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[s.cloud_provider.toUpperCase()," • ",s.environment]})]})]}),(0,a.jsx)(i.C,{className:(e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"deploying":return"bg-blue-100 text-blue-800";case"analyzing":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(s.status),children:s.status})]}),"deploying"===s.status&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[s.progress,"%"]})]}),(0,a.jsx)(c.E,{value:s.progress,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["ETA: ",s.estimated_completion]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s.deployment_url&&(0,a.jsx)(n.z,{size:"sm",onClick:()=>window.open(s.deployment_url,"_blank"),className:"flex items-center gap-1",children:"\uD83C\uDF10 View Site"}),(0,a.jsx)(n.z,{variant:"outline",size:"sm",onClick:t,children:"\uD83D\uDD04 Refresh"})]})]})})},L=()=>{let[e,s]=(0,l.useState)("aws"),[t,n]=(0,l.useState)("static_site"),[c,o]=(0,l.useState)(null),[d,m]=(0,l.useState)(!1),x=[{id:"static_site",name:"Static Website",resources:["S3","CloudFront","Route53"]},{id:"spa",name:"Single Page App",resources:["EC2","ALB","CloudFront","RDS"]},{id:"api",name:"REST API",resources:["ECS","ALB","RDS","ElastiCache"]},{id:"fullstack",name:"Full-stack App",resources:["ECS","RDS","S3","CloudFront","ALB"]}],p=async()=>{m(!0);try{let s=await fetch("http://localhost:8000/api/v1/smart-deploy/infrastructure/preview",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||"demo-token"}`},body:JSON.stringify({cloud_provider:e,project_type:t})});if(s.ok){let e=await s.json();o(e)}else u()}catch(e){console.error("Failed to generate preview:",e),u()}finally{m(!1)}},u=()=>{let s=x.find(e=>e.id===t);o({cloud_provider:e,project_type:t,estimated_cost:100*Math.random()+20,resources:s?.resources.map((e,s)=>({id:`resource-${s}`,name:e,type:h(e),cost:30*Math.random()+5,status:"planned"}))||[]})},h=e=>({S3:"Storage",CloudFront:"CDN",Route53:"DNS",EC2:"Compute",ECS:"Container",ALB:"Load Balancer",RDS:"Database",ElastiCache:"Cache"})[e]||"Service",j=e=>({Storage:"\uD83D\uDCBE",CDN:"\uD83C\uDF10",DNS:"\uD83D\uDD17",Compute:"\uD83D\uDCBB",Container:"\uD83D\uDCE6","Load Balancer":"⚖️",Database:"\uD83D\uDDC4️",Cache:"⚡"})[e]||"\uD83D\uDD27";return(0,l.useEffect)(()=>{p()},[e,t]),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(T.Z,{className:"h-5 w-5 text-blue-500"}),"Infrastructure Preview"]}),(0,a.jsx)(r.SZ,{children:"AI-powered infrastructure recommendations for your project"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Cloud Provider"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{id:"aws",name:"AWS",icon:"\uD83C\uDF29️",color:"bg-orange-100 text-orange-800"},{id:"gcp",name:"Google Cloud",icon:"☁️",color:"bg-blue-100 text-blue-800"},{id:"azure",name:"Azure",icon:"\uD83D\uDD37",color:"bg-blue-100 text-blue-800"}].map(t=>(0,a.jsxs)("button",{onClick:()=>s(t.id),className:`p-3 border rounded-lg text-center transition-all ${e===t.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,a.jsx)("div",{className:"text-2xl mb-1",children:t.icon}),(0,a.jsx)("div",{className:"text-sm font-medium",children:t.name})]},t.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Project Type"}),(0,a.jsx)("div",{className:"space-y-2",children:x.map(e=>(0,a.jsxs)("button",{onClick:()=>n(e.id),className:`w-full p-3 border rounded-lg text-left transition-all ${t===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.resources.join(", ")})]},e.id))})]})]}),d?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(O.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"Generating infrastructure preview..."})]}):c?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-lg",children:"Estimated Monthly Cost"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",c.estimated_cost.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Provider"}),(0,a.jsx)("p",{className:"font-medium",children:e.toUpperCase()})]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-lg mb-4",children:"Infrastructure Resources"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.resources.map(e=>(0,a.jsx)(r.Zb,{className:"hover:shadow-md transition-shadow",children:(0,a.jsx)(r.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:j(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.type}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)(i.C,{variant:"outline",children:e.status}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:["$",e.cost.toFixed(2),"/month"]})]})]})]})})},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-lg mb-4",children:"Architecture Diagram"}),(0,a.jsxs)("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center space-x-4 flex-wrap",children:c.resources.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm border",children:[(0,a.jsx)("div",{className:"text-xl mb-1",children:j(e.type)}),(0,a.jsx)("div",{className:"text-xs font-medium",children:e.name})]}),s<c.resources.length-1&&(0,a.jsx)("div",{className:"text-gray-400 mx-2",children:"→"})]},e.id))}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-4",children:"Interactive architecture diagram coming soon!"})]})]})]}):null]})]})})},Q=e=>{let{deployments:s}=e,[t,n]=(0,l.useState)(""),[o,d]=(0,l.useState)("disconnected"),[m,x]=(0,l.useState)([]),p=(0,l.useRef)(null);(0,l.useEffect)(()=>(u(),()=>{p.current&&p.current.close()}),[]);let u=()=>{try{d("connecting"),p.current=new WebSocket("ws://localhost:8000/api/v1/smart-deploy/ws/realtime"),p.current.onopen=()=>{d("connected"),console.log("WebSocket connected")},p.current.onmessage=e=>{let s=JSON.parse(e.data);x(e=>[s,...e.slice(0,49)])},p.current.onerror=()=>{d("disconnected"),h()},p.current.onclose=()=>{d("disconnected"),setTimeout(u,5e3)}}catch(e){d("disconnected"),h()}},h=()=>{d("connected");let e=setInterval(()=>{let e={id:Date.now(),timestamp:new Date().toISOString(),deployment_id:s[0]?.id||"demo",event:"progress_update",message:"Infrastructure deployment in progress...",progress:Math.min(100,100*Math.random())};x(s=>[e,...s.slice(0,49)])},3e3);setTimeout(()=>clearInterval(e),3e4)};return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(O.Z,{className:"h-5 w-5 text-blue-500"}),"Real-time Deployment Monitor"]}),(0,a.jsx)(r.SZ,{children:"Live updates from deployment processes"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:`h-2 w-2 rounded-full ${"connected"===o?"bg-green-500":"connecting"===o?"bg-yellow-500":"bg-red-500"}`}),(0,a.jsx)("span",{className:"text-sm capitalize",children:o})]})]})}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium mb-4",children:["Active Deployments (",s.length,")"]}),(0,a.jsx)("div",{className:"space-y-3",children:s.filter(e=>"completed"!==e.status).map(e=>(0,a.jsxs)("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${t===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n(e.id),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.project_name}),(0,a.jsx)(i.C,{className:"text-xs",children:e.status})]}),(0,a.jsx)(c.E,{value:e.progress,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[e.cloud_provider.toUpperCase()," • ",e.progress,"%"]})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-4",children:"Live Events"}),(0,a.jsx)("div",{className:"bg-gray-900 text-green-400 rounded-lg p-4 h-64 overflow-y-auto font-mono text-sm",children:0===m.length?(0,a.jsx)("p",{className:"text-gray-500",children:"Waiting for events..."}):m.map(e=>(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("span",{className:"text-gray-500",children:["[",new Date(e.timestamp).toLocaleTimeString(),"]"]}),(0,a.jsx)("span",{className:"ml-2",children:e.message}),e.progress&&(0,a.jsxs)("span",{className:"text-blue-400 ml-2",children:["(",Math.round(e.progress),"%)"]})]},e.id))})]})]})})]})})},G=e=>{let{onUploadComplete:s}=e,[t,o]=(0,l.useState)("idle"),[d,m]=(0,l.useState)(0),[x,p]=(0,l.useState)(null),[u,h]=(0,l.useState)(!1),j=async e=>{if(!e.name.endsWith(".zip")){alert("Please upload a ZIP file");return}o("uploading"),m(0);try{let s=setInterval(()=>{m(e=>Math.min(e+20,90))},500),t=new FormData;t.append("file",e);let a=await fetch("http://localhost:8000/api/v1/smart-deploy/upload-repository",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||"demo-token"}`},body:t});if(clearInterval(s),m(100),a.ok){o("analyzing");let e=await a.json();await f(e.temp_path)}else o("analyzing"),await g(e)}catch(s){console.error("Upload failed:",s),o("analyzing"),await g(e)}},g=async e=>{await new Promise(e=>setTimeout(e,3e3)),p({project_type:"spa",framework:y(e.name),languages:["TypeScript","JavaScript","CSS"],dependencies:["react","next.js","tailwindcss","typescript"],recommendations:["Use AWS CloudFront for global CDN","Enable automatic SSL with AWS Certificate Manager","Implement auto-scaling with Application Load Balancer","Add RDS for database with automated backups","Configure CloudWatch for monitoring and alerts"],estimated_resources:5,estimated_cost:47.5}),o("complete")},f=async e=>{try{let s=await fetch("http://localhost:8000/api/v1/smart-deploy/analyze-repository",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||"demo-token"}`},body:JSON.stringify({temp_path:e})});if(s.ok){let e=await s.json(),t=e.analysis||e;p(t),o("complete")}else throw Error("Analysis failed")}catch(e){await g(new File([],"fallback.zip"))}},y=e=>{let s=["React","Vue.js","Angular","Next.js","Nuxt.js"];return s[Math.floor(Math.random()*s.length)]};return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(B.Z,{className:"h-5 w-5 text-blue-500"}),"Repository Upload & Analysis"]}),(0,a.jsx)(r.SZ,{children:"Upload your project for AI-powered analysis and infrastructure recommendations"})]}),(0,a.jsxs)(r.aY,{children:["idle"===t&&(0,a.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${u?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDrop:e=>{e.preventDefault(),h(!1);let s=Array.from(e.dataTransfer.files);s.length>0&&j(s[0])},onDragOver:e=>e.preventDefault(),onDragEnter:()=>h(!0),onDragLeave:()=>h(!1),children:[(0,a.jsx)(B.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Repository"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Drag and drop your project ZIP file, or click to browse"}),(0,a.jsx)("input",{type:"file",accept:".zip",onChange:e=>{let s=e.target.files;s&&s.length>0&&j(s[0])},className:"hidden",id:"file-upload"}),(0,a.jsx)("label",{htmlFor:"file-upload",children:(0,a.jsx)(n.z,{variant:"outline",children:"Choose File"})}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-3",children:"Maximum file size: 100MB. ZIP files only."})]}),"uploading"===t&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(B.Z,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Uploading Repository..."}),(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsx)(c.E,{value:d,className:"h-3"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[d,"% complete"]})]})]}),"analyzing"===t&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(O.Z,{className:"h-12 w-12 text-purple-500 animate-spin mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Analyzing repository..."}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsx)("p",{children:"\uD83D\uDD0D Detecting project type and framework"}),(0,a.jsx)("p",{children:"\uD83D\uDCE6 Analyzing dependencies and architecture"}),(0,a.jsx)("p",{children:"☁️ Selecting optimal Terraform template"})]})]}),"complete"===t&&x&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600 mb-4",children:[(0,a.jsx)("span",{className:"text-2xl",children:"✅"}),(0,a.jsx)("span",{className:"text-lg font-medium",children:"Analysis Complete!"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsx)(r.ll,{className:"text-lg",children:"Project Analysis"})}),(0,a.jsxs)(r.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Framework"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:x.framework})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Project Type"}),(0,a.jsx)("p",{className:"text-lg font-semibold capitalize",children:x.project_type.replace("_"," ")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Languages"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:x.languages.map(e=>(0,a.jsx)(i.C,{variant:"secondary",children:e},e))})]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsx)(r.ll,{className:"text-lg",children:"Infrastructure Plan"})}),(0,a.jsxs)(r.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Estimated Cost"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",x.estimated_cost,"/month"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Resources"}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[x.estimated_resources," components"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Key Dependencies"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:x.dependencies.slice(0,4).map(e=>(0,a.jsx)(i.C,{variant:"outline",children:e},e))})]})]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsx)(r.ll,{className:"text-lg",children:"AI Recommendations"})}),(0,a.jsx)(r.aY,{children:(0,a.jsx)("div",{className:"space-y-2",children:x.recommendations.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-green-500 mt-1",children:"✓"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},s))})})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(n.z,{onClick:()=>{s(),o("idle"),p(null),m(0)},className:"flex items-center gap-2",children:[(0,a.jsx)(U.Z,{className:"h-4 w-4"}),"Create Smart Deployment"]}),(0,a.jsx)(n.z,{variant:"outline",onClick:()=>{o("idle"),p(null),m(0)},children:"Upload Different Project"})]})]})]})]})})};function W(){let[e,s]=(0,l.useState)([]),[t,c]=(0,l.useState)({total_deployments:0,active_deployments:0,successful_deployments:0,monthly_cost:0,ai_generations:0}),[m,x]=(0,l.useState)("overview"),[p,u]=(0,l.useState)(!1),[h,j]=(0,l.useState)(!0),[g,f]=(0,l.useState)(null),[y,N]=(0,l.useState)(!1),[v,b]=(0,l.useState)(null),{updateAuthToken:w}=(0,d.L_)(),_=(0,d.CX)(),D=()=>{let e=localStorage.getItem("codeflowops_access_token")||"demo-token";return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}};(0,l.useEffect)(()=>{C(),A()},[]);let C=async()=>{try{let e=await fetch("http://localhost:8000/api/v1/smart-deploy/deployments",{headers:D()});if(e.ok){let t=await e.json();s(t.deployments||[])}else console.log("Backend not available, using demo data"),S()}catch(e){console.error("Failed to fetch deployments:",e),S()}finally{j(!1)}},S=()=>{s([{id:"deploy-1",project_name:"React E-commerce App",status:"completed",progress:100,cloud_provider:"aws",environment:"production",created_at:new Date().toISOString(),deployment_url:"https://my-app.example.com"},{id:"deploy-2",project_name:"Next.js Blog",status:"deploying",progress:65,cloud_provider:"gcp",environment:"staging",created_at:new Date(Date.now()-36e5).toISOString(),estimated_completion:"2 minutes"},{id:"deploy-3",project_name:"Vue.js Dashboard",status:"analyzing",progress:25,cloud_provider:"azure",environment:"development",created_at:new Date(Date.now()-72e5).toISOString(),estimated_completion:"5 minutes"}])},A=async()=>{try{let e=await fetch("http://localhost:8000/api/v1/smart-deploy/stats",{headers:D()});if(e.ok){let s=await e.json();c(s)}else P()}catch(e){console.error("Failed to fetch stats:",e),P()}},P=()=>{c({total_deployments:12,active_deployments:3,successful_deployments:9,monthly_cost:127.45,ai_generations:45}),S()},F=e=>{let t=setInterval(async()=>{try{let a=await fetch(`http://localhost:8000/api/v1/smart-deploy/status/${e}`,{headers:D()});if(a.ok){let l=await a.json();s(s=>s.map(s=>s.id===e?{...s,status:l.status,progress:l.progress,message:l.message}:s)),("completed"===l.status||"failed"===l.status)&&clearInterval(t)}}catch(e){console.error("Error polling deployment status:",e)}},3e3);setTimeout(()=>clearInterval(t),6e5)},z=async e=>{console.log("\uD83D\uDE80 Starting deployment creation with data:",e),console.log("\uD83D\uDD0D Framework information:",{framework:e.framework,framework_type:e.framework_type,project_type:e.project_type,analysis_result:e.analysis_result});try{let t={project_name:e.project_name,cloud_provider:e.cloud_provider||"aws",environment:e.environment||"production",domain_name:e.domain_name||"",github_repo:e.github_repo||"",auto_deploy:e.auto_deploy||!1,framework:e.framework,framework_type:e.framework_type,project_type:e.project_type,analysis_result:e.analysis_result};console.log("\uD83D\uDCDD Formatted deployment request:",t),console.log("\uD83D\uDD17 Making API call to create deployment...");let a=await _.createDeployment(t);console.log("✅ Deployment created successfully:",a);let l={id:a.deployment_id,project_name:e.project_name||"Demo Project",status:a.status||"analyzing",progress:5,cloud_provider:e.cloud_provider||"aws",environment:e.environment||"production",created_at:new Date().toISOString(),estimated_completion:"5 minutes",message:a.message,terraform_template:!0};console.log("\uD83D\uDCCA Adding deployment to UI:",l),s(e=>[l,...e]),u(!1),console.log("\uD83C\uDFAF Switching to monitor tab and selecting deployment"),x("monitor"),f(a.deployment_id),F(a.deployment_id),console.log("\uD83C\uDF89 Deployment creation process completed successfully!")}catch(s){console.error("❌ Failed to create deployment:",s),console.error("Error details:",{message:s.message,stack:s.stack,response:s.response?.data});let e=s.message||s.toString();alert(`Error creating deployment: ${e}

Check the browser console for more details.`)}};return h?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(O.Z,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-blue-500"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"Loading Smart Deploy Dashboard..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(U.Z,{className:"h-8 w-8 text-blue-500"}),"Smart Deploy",(0,a.jsxs)(i.C,{className:"ml-2 bg-green-100 text-green-800",children:[(0,a.jsx)(Y.Z,{className:"h-3 w-3 mr-1"}),"Terraform Ready"]})]}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Traditional Terraform-based infrastructure deployment"})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>u(!0),className:"flex items-center gap-2",children:[(0,a.jsx)($.Z,{className:"h-4 w-4"}),"New Deployment"]})})]})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(E,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,a.jsx)(r.Zb,{children:(0,a.jsx)(r.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Deployments"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.total_deployments})]}),(0,a.jsx)(Y.Z,{className:"h-8 w-8 text-blue-500"})]})})}),(0,a.jsx)(r.Zb,{children:(0,a.jsx)(r.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:t.active_deployments})]}),(0,a.jsx)(O.Z,{className:"h-8 w-8 text-orange-500"})]})})}),(0,a.jsx)(r.Zb,{children:(0,a.jsx)(r.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Successful"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:t.successful_deployments})]}),(0,a.jsx)(Z.Z,{className:"h-8 w-8 text-green-500"})]})})}),(0,a.jsx)(r.Zb,{children:(0,a.jsx)(r.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Cost"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",t.monthly_cost]})]}),(0,a.jsx)(M.Z,{className:"h-8 w-8 text-purple-500"})]})})}),(0,a.jsx)(r.Zb,{children:(0,a.jsx)(r.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"AI Generations"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:t.ai_generations})]}),(0,a.jsx)(k.Z,{className:"h-8 w-8 text-indigo-500"})]})})})]}),(0,a.jsxs)(o.mQ,{value:m,onValueChange:x,className:"space-y-6",children:[(0,a.jsxs)(o.dr,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(o.SP,{value:"overview",children:"Overview"}),(0,a.jsx)(o.SP,{value:"monitor",children:"Real-time Monitor"}),(0,a.jsx)(o.SP,{value:"preview",children:"Infrastructure Preview"}),(0,a.jsx)(o.SP,{value:"upload",children:"Repository Upload"})]}),(0,a.jsx)(o.nU,{value:"overview",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsx)(r.ll,{children:"Recent Deployments"}),(0,a.jsx)(r.SZ,{children:"Your latest Smart Deploy infrastructure deployments"})]}),(0,a.jsx)(r.aY,{children:0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(U.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No deployments yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first Smart Deployment"}),(0,a.jsxs)(n.z,{onClick:()=>u(!0),children:[(0,a.jsx)($.Z,{className:"h-4 w-4 mr-2"}),"Create Deployment"]})]}):(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsx)(V,{deployment:e,onRefresh:C},e.id))})})]})}),(0,a.jsx)(o.nU,{value:"monitor",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(Q,{deployments:e}),y&&(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(O.Z,{className:"h-5 w-5"}),"Integration Test"]}),(0,a.jsx)(r.SZ,{children:"Test the complete deployment workflow end-to-end"})]}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)(n.z,{onClick:async()=>{try{let e=await _.checkHealth();console.log("Health check result:",e),alert(`Integration test completed! Backend is ${"healthy"===e.status?"healthy":"not responding"}`)}catch(e){console.error("Integration test failed:",e),alert("Integration test failed. Check console for details.")}},className:"flex items-center gap-2",children:[(0,a.jsx)(U.Z,{className:"h-4 w-4"}),"Run Full Integration Test"]})})]})]})}),(0,a.jsx)(o.nU,{value:"preview",children:(0,a.jsx)(L,{})}),(0,a.jsx)(o.nU,{value:"upload",children:(0,a.jsx)(G,{onUploadComplete:C})})]}),(0,a.jsx)(R,{isOpen:p,onClose:()=>u(!1),onSubmit:z,analysisResult:v})]})})}function H(){return(0,a.jsx)(W,{})}},1828:function(e,s,t){"use strict";t.d(s,{r:function(){return i}});var a=t(7437),l=t(2265),r=t(721),n=t(4508);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.fC,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...l,ref:s,children:(0,a.jsx)(r.bU,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=r.fC.displayName},2339:function(e,s,t){"use strict";t.d(s,{SP:function(){return o},dr:function(){return c},mQ:function(){return i},nU:function(){return d}});var a=t(7437),l=t(2265),r=t(271),n=t(4508);let i=r.fC,c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.aV,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});c.displayName=r.aV.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.xz,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});o.displayName=r.xz.displayName;let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.VY,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});d.displayName=r.VY.displayName}},function(e){e.O(0,[583,453,678,566,495,379,971,117,744],function(){return e(e.s=228)}),_N_E=e.O()}]);