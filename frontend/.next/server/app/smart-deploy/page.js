(()=>{var e={};e.id=657,e.ids=[657],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2517:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>o}),t(4101),t(3676),t(5866);var a=t(3191),r=t(8716),l=t(7922),n=t.n(l),i=t(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let o=["",{children:["smart-deploy",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4101)),"C:\\ClayDesk.AI\\codeflowops-saas\\frontend\\app\\smart-deploy\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3676)),"C:\\ClayDesk.AI\\codeflowops-saas\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\ClayDesk.AI\\codeflowops-saas\\frontend\\app\\smart-deploy\\page.tsx"],m="/smart-deploy/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/smart-deploy/page",pathname:"/smart-deploy",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1958:(e,s,t)=>{Promise.resolve().then(t.bind(t,5007))},5007:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>L});var a=t(326),r=t(7577),l=t(2643),n=t(772),i=t(567),c=t(64),o=t(9210),d=t(6824),m=t(2288),x=t(4432),p=t(1048),u=t(4474),h=t(6655),j=t(3634),g=t(8378),y=t(3892),f=t(6557);let v=(0,f.Z)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);var N=t(2893),b=t(4014),w=t(165),_=t(8319),k=t(5290);function D({isOpen:e,onClose:s,onSubmit:t,analysisResult:c}){let[d,f]=(0,r.useState)("basic"),[D,C]=(0,r.useState)(!1),[S,Z]=(0,r.useState)([]),[P,A]=(0,r.useState)([]),[z,F]=(0,r.useState)({project_name:"",cloud_provider:"aws",environment:"production",domain_name:"",github_repo:"",auto_deploy:!1,framework_type:"auto-detect",enable_monitoring:!0,enable_cdn:!0,enable_ssl:!0,instance_type:"t3.micro",auto_scaling:!1,backup_enabled:!0,custom_vpc:!1}),[I,R]=(0,r.useState)({}),E=()=>{let e={};return z.project_name.trim()?z.project_name.length<3?e.project_name="Project name must be at least 3 characters":/^[a-zA-Z0-9-_]+$/.test(z.project_name)||(e.project_name="Project name can only contain letters, numbers, hyphens, and underscores"):e.project_name="Project name is required",z.github_repo&&!z.github_repo.includes("github.com")&&(e.github_repo="Please enter a valid GitHub repository URL"),z.domain_name&&!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(z.domain_name)&&(e.domain_name="Please enter a valid domain name"),R(e),0===Object.keys(e).length},T=async()=>{if(E()){C(!0);try{let e={...z,framework:c?.framework||c?.projectType||("auto-detect"!==z.framework_type?z.framework_type:null),framework_type:c?.framework?.type||z.framework_type,project_type:c?.projectType||c?.project_type||("auto-detect"!==z.framework_type?z.framework_type:null),analysis_result:c||null};await t(e),F({project_name:"",cloud_provider:"aws",environment:"production",domain_name:"",github_repo:"",auto_deploy:!1,framework_type:"auto-detect",enable_monitoring:!0,enable_cdn:!0,enable_ssl:!0,instance_type:"t3.micro",auto_scaling:!1,backup_enabled:!0,custom_vpc:!1}),R({})}catch(e){console.error("Failed to create deployment:",e)}finally{C(!1)}}},M=(e,s)=>{F(t=>({...t,[e]:s})),I[e]&&R(s=>({...s,[e]:""}))},B=e=>{switch(e){case"aws":return"\uD83C\uDF29️";case"gcp":default:return"☁️";case"azure":return"\uD83D\uDD37"}},O=e=>{switch(e){case"development":return"bg-yellow-100 text-yellow-800";case"staging":return"bg-orange-100 text-orange-800";case"production":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx(m.Vq,{open:e,onOpenChange:s,children:(0,a.jsxs)(m.cZ,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(m.fK,{children:[(0,a.jsxs)(m.$N,{className:"flex items-center gap-2",children:[a.jsx(j.Z,{className:"h-5 w-5 text-blue-500"}),"Create Smart Deployment"]}),a.jsx(m.Be,{children:"Configure your Terraform-based infrastructure deployment. Smart Deploy will analyze your project and select optimal cloud infrastructure templates."})]}),(0,a.jsxs)(o.mQ,{value:d,onValueChange:f,className:"w-full",children:[(0,a.jsxs)(o.dr,{className:"grid w-full grid-cols-3",children:[a.jsx(o.SP,{value:"basic",children:"Basic Configuration"}),a.jsx(o.SP,{value:"infrastructure",children:"Infrastructure"}),a.jsx(o.SP,{value:"advanced",children:"Advanced Options"})]}),a.jsx(o.nU,{value:"basic",className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(g.Z,{className:"h-4 w-4"}),"Project Details"]}),a.jsx(l.SZ,{children:"Basic information about your project and deployment"})]}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p._,{htmlFor:"project_name",children:"Project Name *"}),a.jsx(x.I,{id:"project_name",placeholder:"my-awesome-app",value:z.project_name,onChange:e=>M("project_name",e.target.value),className:I.project_name?"border-red-500":""}),I.project_name&&a.jsx("p",{className:"text-sm text-red-500",children:I.project_name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p._,{htmlFor:"environment",children:"Environment"}),(0,a.jsxs)(u.Ph,{value:z.environment,onValueChange:e=>M("environment",e),children:[a.jsx(u.i4,{children:a.jsx(u.ki,{})}),(0,a.jsxs)(u.Bw,{children:[a.jsx(u.Ql,{value:"development",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(i.C,{className:O("development"),children:"Development"})})}),a.jsx(u.Ql,{value:"staging",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(i.C,{className:O("staging"),children:"Staging"})})}),a.jsx(u.Ql,{value:"production",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(i.C,{className:O("production"),children:"Production"})})})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(p._,{htmlFor:"framework_type",className:"flex items-center gap-2",children:[a.jsx(y.Z,{className:"h-4 w-4"}),"Framework Type"]}),(0,a.jsxs)(u.Ph,{value:z.framework_type,onValueChange:e=>M("framework_type",e),children:[a.jsx(u.i4,{children:a.jsx(u.ki,{})}),(0,a.jsxs)(u.Bw,{children:[a.jsx(u.Ql,{value:"auto-detect",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(j.Z,{className:"h-4 w-4"}),"Auto-detect from repository"]})}),a.jsx(u.Ql,{value:"react",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(v,{className:"h-4 w-4"}),"React SPA (→ CloudFront + S3)"]})}),a.jsx(u.Ql,{value:"static",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(v,{className:"h-4 w-4"}),"Static Website (→ CloudFront + S3)"]})})]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"auto-detect"===z.framework_type?"Framework will be detected from your GitHub repository":"☁️ Static/SPA frameworks deploy to CloudFront + S3"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(p._,{htmlFor:"github_repo",className:"flex items-center gap-2",children:[a.jsx(N.Z,{className:"h-4 w-4"}),"GitHub Repository (Optional)"]}),a.jsx(x.I,{id:"github_repo",placeholder:"https://github.com/username/repository",value:z.github_repo,onChange:e=>M("github_repo",e.target.value),className:I.github_repo?"border-red-500":""}),I.github_repo&&a.jsx("p",{className:"text-sm text-red-500",children:I.github_repo}),a.jsx("p",{className:"text-sm text-gray-600",children:"If provided, Smart Deploy will analyze your repository for optimal infrastructure template selection"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(p._,{htmlFor:"domain_name",className:"flex items-center gap-2",children:[a.jsx(b.Z,{className:"h-4 w-4"}),"Custom Domain (Optional)"]}),a.jsx(x.I,{id:"domain_name",placeholder:"myapp.com",value:z.domain_name,onChange:e=>M("domain_name",e.target.value),className:I.domain_name?"border-red-500":""}),I.domain_name&&a.jsx("p",{className:"text-sm text-red-500",children:I.domain_name})]})]})]})}),(0,a.jsxs)(o.nU,{value:"infrastructure",className:"space-y-6",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(v,{className:"h-4 w-4"}),"Cloud Provider"]}),a.jsx(l.SZ,{children:"Choose your preferred cloud platform for deployment"})]}),a.jsx(l.aY,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:S.map(e=>(0,a.jsxs)("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${z.cloud_provider===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>M("cloud_provider",e.id),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"text-2xl",children:B(e.id)}),a.jsx("h3",{className:"font-medium",children:e.name})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.supported_features.slice(0,3).map(e=>a.jsx(i.C,{variant:"secondary",className:"text-xs",children:e.replace("_"," ")},e))})]},e.id))})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Infrastructure Features"}),a.jsx(l.SZ,{children:"Configure the infrastructure components for your deployment"})]}),a.jsx(l.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)(p._,{className:"flex items-center gap-2",children:[a.jsx(w.Z,{className:"h-4 w-4"}),"SSL Certificate"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Enable HTTPS with automatic SSL"})]}),a.jsx(h.r,{checked:z.enable_ssl,onCheckedChange:e=>M("enable_ssl",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[a.jsx(p._,{children:"Content Delivery Network"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Global CDN for faster content delivery"})]}),a.jsx(h.r,{checked:z.enable_cdn,onCheckedChange:e=>M("enable_cdn",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)(p._,{className:"flex items-center gap-2",children:[a.jsx(y.Z,{className:"h-4 w-4"}),"Monitoring"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Real-time application monitoring"})]}),a.jsx(h.r,{checked:z.enable_monitoring,onCheckedChange:e=>M("enable_monitoring",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsxs)(p._,{className:"flex items-center gap-2",children:[a.jsx(_.Z,{className:"h-4 w-4"}),"Automated Backups"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Daily automated data backups"})]}),a.jsx(h.r,{checked:z.backup_enabled,onCheckedChange:e=>M("backup_enabled",e)})]})]})})]})]}),a.jsx(o.nU,{value:"advanced",className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Advanced Configuration"}),a.jsx(l.SZ,{children:"Fine-tune your deployment with advanced options"})]}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p._,{htmlFor:"instance_type",children:"Instance Type"}),(0,a.jsxs)(u.Ph,{value:z.instance_type,onValueChange:e=>M("instance_type",e),children:[a.jsx(u.i4,{children:a.jsx(u.ki,{})}),(0,a.jsxs)(u.Bw,{children:[a.jsx(u.Ql,{value:"t3.micro",children:"t3.micro (1 vCPU, 1GB RAM) - $8/month"}),a.jsx(u.Ql,{value:"t3.small",children:"t3.small (2 vCPU, 2GB RAM) - $16/month"}),a.jsx(u.Ql,{value:"t3.medium",children:"t3.medium (2 vCPU, 4GB RAM) - $33/month"}),a.jsx(u.Ql,{value:"t3.large",children:"t3.large (2 vCPU, 8GB RAM) - $67/month"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[a.jsx(p._,{children:"Auto Scaling"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Automatically scale based on traffic"})]}),a.jsx(h.r,{checked:z.auto_scaling,onCheckedChange:e=>M("auto_scaling",e)})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[a.jsx(p._,{children:"Custom VPC"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Deploy in a custom Virtual Private Cloud"})]}),a.jsx(h.r,{checked:z.custom_vpc,onCheckedChange:e=>M("custom_vpc",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[a.jsx(p._,{children:"Auto Deploy"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Automatically deploy after infrastructure generation"})]}),a.jsx(h.r,{checked:z.auto_deploy,onCheckedChange:e=>M("auto_deploy",e)})]})]})]})]})})]}),(0,a.jsxs)(m.cN,{className:"flex gap-3",children:[a.jsx(n.z,{variant:"outline",onClick:s,disabled:D,children:"Cancel"}),a.jsx(n.z,{onClick:T,disabled:D,className:"min-w-[120px]",children:D?(0,a.jsxs)(a.Fragment,{children:[a.jsx(k.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Create Deployment"]})})]})]})})}function C(){let[e,s]=(0,r.useState)("auto-detect");return(0,a.jsxs)("div",{className:"p-4 border rounded-lg bg-white",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Framework Selector Test"}),(0,a.jsxs)("div",{className:"space-y-2 max-w-md",children:[(0,a.jsxs)(p._,{htmlFor:"framework_type",className:"flex items-center gap-2",children:[a.jsx(y.Z,{className:"h-4 w-4"}),"Framework Type"]}),(0,a.jsxs)(u.Ph,{value:e,onValueChange:s,children:[a.jsx(u.i4,{children:a.jsx(u.ki,{})}),a.jsx(u.Bw,{children:a.jsx(u.Ql,{value:"auto-detect",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(j.Z,{className:"h-4 w-4"}),"Auto-detect from repository"]})})})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Selected: ",e]}),a.jsx("p",{className:"text-sm text-gray-600",children:"auto-detect"===e?"Framework will be detected from your GitHub repository":"☁️ Static/SPA frameworks deploy to CloudFront + S3"})]})]})}var S=t(3273),Z=t(8998),P=t(7202),A=t(7069),z=t(5047);function F({beforeAction:e="deploy",onCheckComplete:s}){let[t,l]=(0,r.useState)(null),[i,c]=(0,r.useState)(!0),[o,d]=(0,r.useState)(null),m=(0,z.useRouter)(),x=()=>{m.push("/profile?tab=billing")};return i?(0,a.jsxs)(S.bZ,{children:[a.jsx(Z.Z,{className:"h-4 w-4 animate-spin"}),a.jsx(S.X,{children:"Checking deployment limits..."})]}):o?(0,a.jsxs)(S.bZ,{variant:"destructive",children:[a.jsx(P.Z,{className:"h-4 w-4"}),a.jsx(S.X,{children:"Warning: Could not verify quota limits. Proceeding may fail if limits are exceeded."})]}):t&&(!t.can_deploy||t.quota_status.monthly_runs.percentage>=80)?(0,a.jsxs)(S.bZ,{variant:t.can_deploy?"default":"destructive",children:[a.jsx(P.Z,{className:"h-4 w-4"}),a.jsx(S.X,{children:a.jsx("div",{className:"space-y-3",children:t.can_deploy?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{children:a.jsx("strong",{children:"⚠️ Quota Warning!"})}),(0,a.jsxs)("div",{className:"text-sm",children:["You've used ",t.quota_status.monthly_runs.percentage.toFixed(0),"% of your monthly deployments (",t.quota_status.monthly_runs.used,"/",t.quota_status.monthly_runs.limit,").","free"===t.quota_status.plan.tier&&" Consider upgrading to avoid interruptions."]}),"free"===t.quota_status.plan.tier&&(0,a.jsxs)(n.z,{size:"sm",variant:"outline",onClick:x,className:"w-full",children:[a.jsx(A.Z,{className:"h-4 w-4 mr-1"}),"View Upgrade Options"]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{children:(0,a.jsxs)("strong",{children:["\uD83D\uDEAB ",e.charAt(0).toUpperCase()+e.slice(1)," Blocked!"]})}),a.jsx("div",{className:"text-sm",children:t.checks.monthly.passed?t.checks.concurrent.passed?"Unknown quota limit reached":t.checks.concurrent.reason:t.checks.monthly.reason}),!t.checks.monthly.passed&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["Current plan: ",t.quota_status.plan.name,"(",t.quota_status.monthly_runs.used,"/",t.quota_status.monthly_runs.limit," deployments used)"]}),a.jsx(n.z,{size:"sm",onClick:x,className:"w-full",children:"\uD83D\uDE80 Upgrade for More Deployments"})]})]})})})]}):null}var I=t(2714),R=t(6697),E=t(3685),T=t(5691);let M=(0,f.Z)("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);var B=t(3855),O=t(6464);let U=({deployment:e,onRefresh:s})=>a.jsx(l.Zb,{className:"mb-4 hover:shadow-md transition-shadow",children:(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:(e=>{switch(e){case"completed":return"✅";case"failed":return"❌";case"deploying":return"\uD83D\uDE80";case"analyzing":return"\uD83D\uDD0D";default:return"⏳"}})(e.status)}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-lg",children:e.project_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.cloud_provider.toUpperCase()," • ",e.environment]})]})]}),a.jsx(i.C,{className:(e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"deploying":return"bg-blue-100 text-blue-800";case"analyzing":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(e.status),children:e.status})]}),"deploying"===e.status&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[e.progress,"%"]})]}),a.jsx(c.E,{value:e.progress,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["ETA: ",e.estimated_completion]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.deployment_url&&a.jsx(n.z,{size:"sm",onClick:()=>window.open(e.deployment_url,"_blank"),className:"flex items-center gap-1",children:"\uD83C\uDF10 View Site"}),a.jsx(n.z,{variant:"outline",size:"sm",onClick:s,children:"\uD83D\uDD04 Refresh"})]})]})}),V=()=>{let[e,s]=(0,r.useState)("aws"),[t,n]=(0,r.useState)("static_site"),[c,o]=(0,r.useState)(null),[d,m]=(0,r.useState)(!1),x=[{id:"static_site",name:"Static Website",resources:["S3","CloudFront","Route53"]},{id:"spa",name:"Single Page App",resources:["EC2","ALB","CloudFront","RDS"]},{id:"api",name:"REST API",resources:["ECS","ALB","RDS","ElastiCache"]},{id:"fullstack",name:"Full-stack App",resources:["ECS","RDS","S3","CloudFront","ALB"]}],p=async()=>{m(!0);try{let s=await fetch("http://localhost:8000/api/v1/smart-deploy/infrastructure/preview",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||"demo-token"}`},body:JSON.stringify({cloud_provider:e,project_type:t})});if(s.ok){let e=await s.json();o(e)}else u()}catch(e){console.error("Failed to generate preview:",e),u()}finally{m(!1)}},u=()=>{let s=x.find(e=>e.id===t);o({cloud_provider:e,project_type:t,estimated_cost:100*Math.random()+20,resources:s?.resources.map((e,s)=>({id:`resource-${s}`,name:e,type:h(e),cost:30*Math.random()+5,status:"planned"}))||[]})},h=e=>({S3:"Storage",CloudFront:"CDN",Route53:"DNS",EC2:"Compute",ECS:"Container",ALB:"Load Balancer",RDS:"Database",ElastiCache:"Cache"})[e]||"Service",j=e=>({Storage:"\uD83D\uDCBE",CDN:"\uD83C\uDF10",DNS:"\uD83D\uDD17",Compute:"\uD83D\uDCBB",Container:"\uD83D\uDCE6","Load Balancer":"⚖️",Database:"\uD83D\uDDC4️",Cache:"⚡"})[e]||"\uD83D\uDD27";return(0,r.useEffect)(()=>{p()},[e,t]),a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(I.Z,{className:"h-5 w-5 text-blue-500"}),"Infrastructure Preview"]}),a.jsx(l.SZ,{children:"AI-powered infrastructure recommendations for your project"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Cloud Provider"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"aws",name:"AWS",icon:"\uD83C\uDF29️",color:"bg-orange-100 text-orange-800"},{id:"gcp",name:"Google Cloud",icon:"☁️",color:"bg-blue-100 text-blue-800"},{id:"azure",name:"Azure",icon:"\uD83D\uDD37",color:"bg-blue-100 text-blue-800"}].map(t=>(0,a.jsxs)("button",{onClick:()=>s(t.id),className:`p-3 border rounded-lg text-center transition-all ${e===t.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:t.icon}),a.jsx("div",{className:"text-sm font-medium",children:t.name})]},t.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Type"}),a.jsx("div",{className:"space-y-2",children:x.map(e=>(0,a.jsxs)("button",{onClick:()=>n(e.id),className:`w-full p-3 border rounded-lg text-left transition-all ${t===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"font-medium",children:e.name}),a.jsx("div",{className:"text-sm text-gray-600",children:e.resources.join(", ")})]},e.id))})]})]}),d?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(R.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),a.jsx("p",{className:"text-lg font-medium",children:"Generating infrastructure preview..."})]}):c?(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-lg",children:"Estimated Monthly Cost"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["$",c.estimated_cost.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Provider"}),a.jsx("p",{className:"font-medium",children:e.toUpperCase()})]})]})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-lg mb-4",children:"Infrastructure Resources"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.resources.map(e=>a.jsx(l.Zb,{className:"hover:shadow-md transition-shadow",children:a.jsx(l.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl",children:j(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600",children:e.type}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[a.jsx(i.C,{variant:"outline",children:e.status}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:["$",e.cost.toFixed(2),"/month"]})]})]})]})})},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-lg mb-4",children:"Architecture Diagram"}),(0,a.jsxs)("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("div",{className:"flex items-center justify-center space-x-4 flex-wrap",children:c.resources.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm border",children:[a.jsx("div",{className:"text-xl mb-1",children:j(e.type)}),a.jsx("div",{className:"text-xs font-medium",children:e.name})]}),s<c.resources.length-1&&a.jsx("div",{className:"text-gray-400 mx-2",children:"→"})]},e.id))}),a.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Interactive architecture diagram coming soon!"})]})]})]}):null]})]})})},$=({deployments:e})=>{let[s,t]=(0,r.useState)(""),[n,o]=(0,r.useState)("disconnected"),[d,m]=(0,r.useState)([]),x=(0,r.useRef)(null);(0,r.useEffect)(()=>(p(),()=>{x.current&&x.current.close()}),[]);let p=()=>{try{o("connecting"),x.current=new WebSocket(`${"http://localhost:8000".replace("https://","wss://").replace("http://","ws://")||0}/api/v1/smart-deploy/ws/realtime`),x.current.onopen=()=>{o("connected"),console.log("WebSocket connected")},x.current.onmessage=e=>{let s=JSON.parse(e.data);m(e=>[s,...e.slice(0,49)])},x.current.onerror=()=>{o("disconnected"),u()},x.current.onclose=()=>{o("disconnected"),setTimeout(p,5e3)}}catch(e){o("disconnected"),u()}},u=()=>{o("connected");let s=setInterval(()=>{let s={id:Date.now(),timestamp:new Date().toISOString(),deployment_id:e[0]?.id||"demo",event:"progress_update",message:"Infrastructure deployment in progress...",progress:Math.min(100,100*Math.random())};m(e=>[s,...e.slice(0,49)])},3e3);setTimeout(()=>clearInterval(s),3e4)};return a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(R.Z,{className:"h-5 w-5 text-blue-500"}),"Real-time Deployment Monitor"]}),a.jsx(l.SZ,{children:"Live updates from deployment processes"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${"connected"===n?"bg-green-500":"connecting"===n?"bg-yellow-500":"bg-red-500"}`}),a.jsx("span",{className:"text-sm capitalize",children:n})]})]})}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium mb-4",children:["Active Deployments (",e.length,")"]}),a.jsx("div",{className:"space-y-3",children:e.filter(e=>"completed"!==e.status).map(e=>(0,a.jsxs)("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${s===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>t(e.id),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-medium text-sm",children:e.project_name}),a.jsx(i.C,{className:"text-xs",children:e.status})]}),a.jsx(c.E,{value:e.progress,className:"h-2"}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[e.cloud_provider.toUpperCase()," • ",e.progress,"%"]})]},e.id))})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium mb-4",children:"Live Events"}),a.jsx("div",{className:"bg-gray-900 text-green-400 rounded-lg p-4 h-64 overflow-y-auto font-mono text-sm",children:0===d.length?a.jsx("p",{className:"text-gray-500",children:"Waiting for events..."}):d.map(e=>(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("span",{className:"text-gray-500",children:["[",new Date(e.timestamp).toLocaleTimeString(),"]"]}),a.jsx("span",{className:"ml-2",children:e.message}),e.progress&&(0,a.jsxs)("span",{className:"text-blue-400 ml-2",children:["(",Math.round(e.progress),"%)"]})]},e.id))})]})]})})]})})},q=({onUploadComplete:e})=>{let[s,t]=(0,r.useState)("idle"),[o,d]=(0,r.useState)(0),[m,x]=(0,r.useState)(null),[p,u]=(0,r.useState)(!1),h=async e=>{if(!e.name.endsWith(".zip")){alert("Please upload a ZIP file");return}t("uploading"),d(0);try{let s=setInterval(()=>{d(e=>Math.min(e+20,90))},500),a=new FormData;a.append("file",e);let r=await fetch("http://localhost:8000/api/v1/smart-deploy/upload-repository",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||"demo-token"}`},body:a});if(clearInterval(s),d(100),r.ok){t("analyzing");let e=await r.json();await g(e.temp_path)}else t("analyzing"),await j(e)}catch(s){console.error("Upload failed:",s),t("analyzing"),await j(e)}},j=async e=>{await new Promise(e=>setTimeout(e,3e3)),x({project_type:"spa",framework:y(e.name),languages:["TypeScript","JavaScript","CSS"],dependencies:["react","next.js","tailwindcss","typescript"],recommendations:["Use AWS CloudFront for global CDN","Enable automatic SSL with AWS Certificate Manager","Implement auto-scaling with Application Load Balancer","Add RDS for database with automated backups","Configure CloudWatch for monitoring and alerts"],estimated_resources:5,estimated_cost:47.5}),t("complete")},g=async e=>{try{let s=await fetch("http://localhost:8000/api/v1/smart-deploy/analyze-repository",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||"demo-token"}`},body:JSON.stringify({temp_path:e})});if(s.ok){let e=await s.json(),a=e.analysis||e;x(a),t("complete")}else throw Error("Analysis failed")}catch(e){await j(new File([],"fallback.zip"))}},y=e=>{let s=["React","Vue.js","Angular","Next.js","Nuxt.js"];return s[Math.floor(Math.random()*s.length)]};return a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(E.Z,{className:"h-5 w-5 text-blue-500"}),"Repository Upload & Analysis"]}),a.jsx(l.SZ,{children:"Upload your project for AI-powered analysis and infrastructure recommendations"})]}),(0,a.jsxs)(l.aY,{children:["idle"===s&&(0,a.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${p?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDrop:e=>{e.preventDefault(),u(!1);let s=Array.from(e.dataTransfer.files);s.length>0&&h(s[0])},onDragOver:e=>e.preventDefault(),onDragEnter:()=>u(!0),onDragLeave:()=>u(!1),children:[a.jsx(E.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Repository"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop your project ZIP file, or click to browse"}),a.jsx("input",{type:"file",accept:".zip",onChange:e=>{let s=e.target.files;s&&s.length>0&&h(s[0])},className:"hidden",id:"file-upload"}),a.jsx("label",{htmlFor:"file-upload",children:a.jsx(n.z,{variant:"outline",children:"Choose File"})}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Maximum file size: 100MB. ZIP files only."})]}),"uploading"===s&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(E.Z,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Uploading Repository..."}),(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[a.jsx(c.E,{value:o,className:"h-3"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[o,"% complete"]})]})]}),"analyzing"===s&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(R.Z,{className:"h-12 w-12 text-purple-500 animate-spin mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Analyzing repository..."}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsx("p",{children:"\uD83D\uDD0D Detecting project type and framework"}),a.jsx("p",{children:"\uD83D\uDCE6 Analyzing dependencies and architecture"}),a.jsx("p",{children:"☁️ Selecting optimal Terraform template"})]})]}),"complete"===s&&m&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-600 mb-4",children:[a.jsx("span",{className:"text-2xl",children:"✅"}),a.jsx("span",{className:"text-lg font-medium",children:"Analysis Complete!"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{className:"text-lg",children:"Project Analysis"})}),(0,a.jsxs)(l.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Framework"}),a.jsx("p",{className:"text-lg font-semibold",children:m.framework})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Project Type"}),a.jsx("p",{className:"text-lg font-semibold capitalize",children:m.project_type.replace("_"," ")})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Languages"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:m.languages.map(e=>a.jsx(i.C,{variant:"secondary",children:e},e))})]})]})]}),(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{className:"text-lg",children:"Infrastructure Plan"})}),(0,a.jsxs)(l.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estimated Cost"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",m.estimated_cost,"/month"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resources"}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[m.estimated_resources," components"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Key Dependencies"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:m.dependencies.slice(0,4).map(e=>a.jsx(i.C,{variant:"outline",children:e},e))})]})]})]})]}),(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{className:"text-lg",children:"AI Recommendations"})}),a.jsx(l.aY,{children:a.jsx("div",{className:"space-y-2",children:m.recommendations.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),a.jsx("span",{className:"text-sm",children:e})]},s))})})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(n.z,{onClick:()=>{e(),t("idle"),x(null),d(0)},className:"flex items-center gap-2",children:[a.jsx(T.Z,{className:"h-4 w-4"}),"Create Smart Deployment"]}),a.jsx(n.z,{variant:"outline",onClick:()=>{t("idle"),x(null),d(0)},children:"Upload Different Project"})]})]})]})]})})};function Y(){let[e,s]=(0,r.useState)([]),[t,c]=(0,r.useState)({total_deployments:0,active_deployments:0,successful_deployments:0,monthly_cost:0,ai_generations:0}),[m,x]=(0,r.useState)("overview"),[p,u]=(0,r.useState)(!1),[h,j]=(0,r.useState)(!0),[y,f]=(0,r.useState)(null),[N,b]=(0,r.useState)(!1),[w,_]=(0,r.useState)(null),{updateAuthToken:k}=(0,d.L_)(),S=(0,d.CX)(),Z=()=>{let e=localStorage.getItem("codeflowops_access_token")||"demo-token";return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}},P=async()=>{try{let e=await fetch("http://localhost:8000/api/v1/smart-deploy/deployments",{headers:Z()});if(e.ok){let t=await e.json();s(t.deployments||[])}else console.log("Backend not available, using demo data"),A()}catch(e){console.error("Failed to fetch deployments:",e),A()}finally{j(!1)}},A=()=>{s([{id:"deploy-1",project_name:"React E-commerce App",status:"completed",progress:100,cloud_provider:"aws",environment:"production",created_at:new Date().toISOString(),deployment_url:"https://my-app.example.com"},{id:"deploy-2",project_name:"Next.js Blog",status:"deploying",progress:65,cloud_provider:"gcp",environment:"staging",created_at:new Date(Date.now()-36e5).toISOString(),estimated_completion:"2 minutes"},{id:"deploy-3",project_name:"Vue.js Dashboard",status:"analyzing",progress:25,cloud_provider:"azure",environment:"development",created_at:new Date(Date.now()-72e5).toISOString(),estimated_completion:"5 minutes"}])},z=e=>{let t=setInterval(async()=>{try{let a=await fetch(`http://localhost:8000/api/v1/smart-deploy/status/${e}`,{headers:Z()});if(a.ok){let r=await a.json();s(s=>s.map(s=>s.id===e?{...s,status:r.status,progress:r.progress,message:r.message}:s)),("completed"===r.status||"failed"===r.status)&&clearInterval(t)}}catch(e){console.error("Error polling deployment status:",e)}},3e3);setTimeout(()=>clearInterval(t),6e5)},I=async e=>{console.log("\uD83D\uDE80 Starting deployment creation with data:",e),console.log("\uD83D\uDD0D Framework information:",{framework:e.framework,framework_type:e.framework_type,project_type:e.project_type,analysis_result:e.analysis_result});try{let t={project_name:e.project_name,cloud_provider:e.cloud_provider||"aws",environment:e.environment||"production",domain_name:e.domain_name||"",github_repo:e.github_repo||"",auto_deploy:e.auto_deploy||!1,framework:e.framework,framework_type:e.framework_type,project_type:e.project_type,analysis_result:e.analysis_result};console.log("\uD83D\uDCDD Formatted deployment request:",t),console.log("\uD83D\uDD17 Making API call to create deployment...");let a=await S.createDeployment(t);console.log("✅ Deployment created successfully:",a);let r={id:a.deployment_id,project_name:e.project_name||"Demo Project",status:a.status||"analyzing",progress:5,cloud_provider:e.cloud_provider||"aws",environment:e.environment||"production",created_at:new Date().toISOString(),estimated_completion:"5 minutes",message:a.message,terraform_template:!0};console.log("\uD83D\uDCCA Adding deployment to UI:",r),s(e=>[r,...e]),u(!1),console.log("\uD83C\uDFAF Switching to monitor tab and selecting deployment"),x("monitor"),f(a.deployment_id),z(a.deployment_id),console.log("\uD83C\uDF89 Deployment creation process completed successfully!")}catch(s){console.error("❌ Failed to create deployment:",s),console.error("Error details:",{message:s.message,stack:s.stack,response:s.response?.data});let e=s.message||s.toString();alert(`Error creating deployment: ${e}

Check the browser console for more details.`)}};return h?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(R.Z,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-blue-500"}),a.jsx("p",{className:"text-lg font-medium",children:"Loading Smart Deploy Dashboard..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[a.jsx(T.Z,{className:"h-8 w-8 text-blue-500"}),"Smart Deploy",(0,a.jsxs)(i.C,{className:"ml-2 bg-green-100 text-green-800",children:[a.jsx(M,{className:"h-3 w-3 mr-1"}),"Terraform Ready"]})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Traditional Terraform-based infrastructure deployment"})]}),a.jsx("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>u(!0),className:"flex items-center gap-2",children:[a.jsx(B.Z,{className:"h-4 w-4"}),"New Deployment"]})})]})}),a.jsx("div",{className:"mb-6",children:a.jsx(F,{beforeAction:"deploy"})}),a.jsx("div",{className:"mb-8",children:a.jsx(C,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Deployments"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.total_deployments})]}),a.jsx(M,{className:"h-8 w-8 text-blue-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.active_deployments})]}),a.jsx(R.Z,{className:"h-8 w-8 text-orange-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Successful"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.successful_deployments})]}),a.jsx(v,{className:"h-8 w-8 text-green-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Cost"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",t.monthly_cost]})]}),a.jsx(O.Z,{className:"h-8 w-8 text-purple-500"})]})})}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"AI Generations"}),a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:t.ai_generations})]}),a.jsx(g.Z,{className:"h-8 w-8 text-indigo-500"})]})})})]}),(0,a.jsxs)(o.mQ,{value:m,onValueChange:x,className:"space-y-6",children:[(0,a.jsxs)(o.dr,{className:"grid w-full grid-cols-4",children:[a.jsx(o.SP,{value:"overview",children:"Overview"}),a.jsx(o.SP,{value:"monitor",children:"Real-time Monitor"}),a.jsx(o.SP,{value:"preview",children:"Infrastructure Preview"}),a.jsx(o.SP,{value:"upload",children:"Repository Upload"})]}),a.jsx(o.nU,{value:"overview",className:"space-y-6",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Recent Deployments"}),a.jsx(l.SZ,{children:"Your latest Smart Deploy infrastructure deployments"})]}),a.jsx(l.aY,{children:0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(T.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No deployments yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first Smart Deployment"}),(0,a.jsxs)(n.z,{onClick:()=>u(!0),children:[a.jsx(B.Z,{className:"h-4 w-4 mr-2"}),"Create Deployment"]})]}):a.jsx("div",{className:"space-y-4",children:e.map(e=>a.jsx(U,{deployment:e,onRefresh:P},e.id))})})]})}),a.jsx(o.nU,{value:"monitor",children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx($,{deployments:e}),N&&(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center gap-2",children:[a.jsx(R.Z,{className:"h-5 w-5"}),"Integration Test"]}),a.jsx(l.SZ,{children:"Test the complete deployment workflow end-to-end"})]}),a.jsx(l.aY,{children:(0,a.jsxs)(n.z,{onClick:async()=>{try{let e=await S.checkHealth();console.log("Health check result:",e),alert(`Integration test completed! Backend is ${"healthy"===e.status?"healthy":"not responding"}`)}catch(e){console.error("Integration test failed:",e),alert("Integration test failed. Check console for details.")}},className:"flex items-center gap-2",children:[a.jsx(T.Z,{className:"h-4 w-4"}),"Run Full Integration Test"]})})]})]})}),a.jsx(o.nU,{value:"preview",children:a.jsx(V,{})}),a.jsx(o.nU,{value:"upload",children:a.jsx(q,{onUploadComplete:P})})]}),a.jsx(D,{isOpen:p,onClose:()=>u(!1),onSubmit:I,analysisResult:w})]})})}function L(){return a.jsx(Y,{})}},3273:(e,s,t)=>{"use strict";t.d(s,{X:()=>o,bZ:()=>c});var a=t(326),r=t(7577),l=t(9360),n=t(7863);let i=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef(({className:e,variant:s,...t},r)=>a.jsx("div",{ref:r,role:"alert",className:(0,n.cn)(i({variant:s}),e),...t}));c.displayName="Alert",r.forwardRef(({className:e,...s},t)=>a.jsx("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...s}));o.displayName="AlertDescription"},2288:(e,s,t)=>{"use strict";t.d(s,{$N:()=>h,Be:()=>j,Vq:()=>c,cN:()=>u,cZ:()=>x,fK:()=>p,hg:()=>o});var a=t(326),r=t(7577),l=t(8958),n=t(4019),i=t(7863);let c=l.fC,o=l.xz,d=l.h_;l.x8;let m=r.forwardRef(({className:e,...s},t)=>a.jsx(l.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));m.displayName=l.aV.displayName;let x=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(d,{children:[a.jsx(m,{}),(0,a.jsxs)(l.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[s,(0,a.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(n.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=l.VY.displayName;let p=({className:e,...s})=>a.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});p.displayName="DialogHeader";let u=({className:e,...s})=>a.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});u.displayName="DialogFooter";let h=r.forwardRef(({className:e,...s},t)=>a.jsx(l.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));h.displayName=l.Dx.displayName;let j=r.forwardRef(({className:e,...s},t)=>a.jsx(l.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));j.displayName=l.dk.displayName},6655:(e,s,t)=>{"use strict";t.d(s,{r:()=>w});var a=t(326),r=t(7577),l=t(2561),n=t(8051),i=t(3095),c=t(2067),o=t(3405),d=t(2566),m=t(5226),x="Switch",[p,u]=(0,i.b)(x),[h,j]=p(x),g=r.forwardRef((e,s)=>{let{__scopeSwitch:t,name:i,checked:o,defaultChecked:d,required:p,disabled:u,value:j="on",onCheckedChange:g,form:y,...f}=e,[b,w]=r.useState(null),_=(0,n.e)(s,e=>w(e)),k=r.useRef(!1),D=!b||y||!!b.closest("form"),[C,S]=(0,c.T)({prop:o,defaultProp:d??!1,onChange:g,caller:x});return(0,a.jsxs)(h,{scope:t,checked:C,disabled:u,children:[(0,a.jsx)(m.WV.button,{type:"button",role:"switch","aria-checked":C,"aria-required":p,"data-state":N(C),"data-disabled":u?"":void 0,disabled:u,value:j,...f,ref:_,onClick:(0,l.M)(e.onClick,e=>{S(e=>!e),D&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),D&&(0,a.jsx)(v,{control:b,bubbles:!k.current,name:i,value:j,checked:C,required:p,disabled:u,form:y,style:{transform:"translateX(-100%)"}})]})});g.displayName=x;var y="SwitchThumb",f=r.forwardRef((e,s)=>{let{__scopeSwitch:t,...r}=e,l=j(y,t);return(0,a.jsx)(m.WV.span,{"data-state":N(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:s})});f.displayName=y;var v=r.forwardRef(({__scopeSwitch:e,control:s,checked:t,bubbles:l=!0,...i},c)=>{let m=r.useRef(null),x=(0,n.e)(m,c),p=(0,o.D)(t),u=(0,d.t)(s);return r.useEffect(()=>{let e=m.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==t&&s){let a=new Event("click",{bubbles:l});s.call(e,t),e.dispatchEvent(a)}},[p,t,l]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:x,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return e?"checked":"unchecked"}v.displayName="SwitchBubbleInput";var b=t(7863);let w=r.forwardRef(({className:e,...s},t)=>a.jsx(g,{className:(0,b.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:a.jsx(f,{className:(0,b.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));w.displayName=g.displayName},9210:(e,s,t)=>{"use strict";t.d(s,{SP:()=>o,dr:()=>c,mQ:()=>i,nU:()=>d});var a=t(326),r=t(7577),l=t(8407),n=t(7863);let i=l.fC,c=r.forwardRef(({className:e,...s},t)=>a.jsx(l.aV,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));c.displayName=l.aV.displayName;let o=r.forwardRef(({className:e,...s},t)=>a.jsx(l.xz,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));o.displayName=l.xz.displayName;let d=r.forwardRef(({className:e,...s},t)=>a.jsx(l.VY,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));d.displayName=l.VY.displayName},6464:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},8319:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},3855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3892:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},4101:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\ClayDesk.AI\codeflowops-saas\frontend\app\smart-deploy\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[771,882,698,879,314],()=>t(2517));module.exports=a})();